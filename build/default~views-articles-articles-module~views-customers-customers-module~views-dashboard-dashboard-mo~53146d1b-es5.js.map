{"version":3,"sources":["webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/component-loader/fesm2015/ngx-bootstrap-component-loader.js","webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/positioning/fesm2015/ngx-bootstrap-positioning.js","webpack:///node_modules/ngx-bootstrap/__ivy_ngcc__/utils/fesm2015/ngx-bootstrap-utils.js"],"names":["BsComponentRef","ContentRef","nodes","viewRef","componentRef","ComponentLoader","_viewContainerRef","_renderer","_elementRef","_injector","_componentFactoryResolver","_ngZone","_applicationRef","_posService","onBeforeShow","onShown","onBeforeHide","onHidden","_providers","_isHiding","containerDefaultSelector","_listenOpts","_globalListener","Function","prototype","_componentRef","compType","_componentFactory","resolveComponentFactory","container","opts","attachment","target","provider","push","_subscribePositioning","_innerComponent","emit","_contentRef","_getContentRef","content","context","initialState","injector","create","providers","parent","attachView","hostView","instance","Object","assign","nativeElement","appendChild","location","document","selectedElement","querySelector","parentElement","changeDetectorRef","markForCheck","detectChanges","id","_registerOutsideClick","deletePositionElement","componentEl","parentNode","removeChild","destroy","remove","indexOf","_removeGlobalListener","isShown","hide","show","_unsubscribePositioning","_unregisterListenersFn","listenOpts","triggers","outsideClick","outsideEsc","registerHide","toggle","vRef","template","_inlineViewRef","createEmbeddedView","setTimeout","targets","_zoneSubscription","subscribe","position","element","appendToBody","onStable","calcPosition","unsubscribe","_viewRef","rootNodes","contentCmptFactory","modalContentInjector","createText","ComponentLoaderFactory","ɵfac","ComponentLoaderFactory_Factory","t","ɵprov","token","factory","ctorParameters","type","getStyleComputedProperty","property","nodeType","window","ownerDocument","defaultView","css","getComputedStyle","getParentNode","nodeName","host","getScrollParent","body","overflow","overflowX","overflowY","test","String","isBrowser","isIE11","MSInputMethodContext","documentMode","isIE10","navigator","userAgent","isIE","version","getOffsetParent","documentElement","noOffsetParent","offsetParent","sibling","nextElementSibling","isOffsetContainer","firstElementChild","getRoot","node","findCommonOffsetParent","element1","element2","order","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","start","end","range","createRange","setStart","setEnd","commonAncestorContainer","contains","element1root","getBordersSize","styles","axis","sideA","sideB","parseFloat","getSize","html","computedStyle","Math","max","parseInt","getWindowSizes","height","width","getScroll","side","upperSide","scrollingElement","getClientRect","offsets","right","left","bottom","top","getBoundingClientRect","rect","scrollTop","scrollLeft","e","undefined","result","sizes","clientWidth","clientHeight","horizScrollbar","offsetWidth","vertScrollbar","offsetHeight","includeScroll","subtract","modifier","getOffsetRectRelativeToArbitraryNode","children","fixedPosition","isHTML","childrenRect","parentRect","scrollParent","borderTopWidth","borderLeftWidth","marginTop","marginLeft","getViewportOffsetRectRelativeToArtbitraryNode","excludeScroll","relativeOffset","innerWidth","innerHeight","offset","Number","isFixed","getFixedPositionOffsetParent","el","getBoundaries","padding","boundariesElement","boundaries","boundariesNode","getArea","computeAutoPlacement","placement","refRect","allowedPositions","rects","sortedAreas","keys","map","key","area","sort","a","b","filteredAreas","filter","some","allowedPosition","computedPlacement","length","variation","split","className","replace","getOffsets","data","floor","round","getOppositePlacement","hash","matched","getOppositeVariation","getOuterSizes","x","marginBottom","y","marginRight","getReferenceOffsets","commonOffsetParent","getTargetOffsets","hostOffsets","targetRect","targetOffsets","isHoriz","mainSide","secondarySide","measurement","secondaryMeasurement","isModifierEnabled","options","modifierName","modifiers","enabled","isNumeric","n","isNaN","isFinite","updateContainerClass","renderer","containerClass","placementAuto","setAttribute","setStyles","forEach","prop","unit","setStyle","style","arrow","arrowElement","isVertical","len","sideCapitalized","toLowerCase","altSide","opSide","arrowElementSize","placementVariation","targetMarginSide","targetBorderSide","center","targetBorderRadius","borderRadius","targetSideArrowOffset","sideValue","min","flip","offsetsHost","adaptivePosition","flipOrder","step","index","overlapsRef","overflowsLeft","overflowsRight","overflowsTop","overflowsBottom","overflowsBoundaries","flippedVariation","initData","targetElement","hostElement","hostElPosition","match","matches","targetOffset","positionFixed","preventOverflow","transformProp","targetStyles","transform","check","primary","value","secondary","shift","basePlacement","shiftVariation","shiftOffsets","Positioning","chainOfModifiers","reduce","modifiedData","positionService","positionElements","PositioningOptions","PositioningService","ngZone","rendererFactory","platformId","update$$","Map","isDisabled","runOutsideAngular","triggerEvent$","passive","positionElement","_getHtmlElement","createRenderer","addPositionElement","set","next","elRef","PositioningService_Factory","decorators","args","Trigger","open","close","ListenOptions","DEFAULT_ALIASES","hover","focus","parseTriggers","aliases","trimmedTriggers","trim","parsedTriggers","trigger","triggerPair","alias","manualTriggers","isManual","Error","listenToTriggers","showFn","hideFn","toggleFn","listeners","listen","unsubscribeFn","listenToTriggersV2","_registerHide","fn","useToggle","registerOutsideClick","event","registerEscClick","win","document$1","gc","performance","Event","MouseEvent","KeyboardEvent","EventTarget","History","Location","EventListener","guessedVersion","_guessBsVersion","spanEl","createElement","innerText","classList","add","setTheme","theme","isBs3","__theme","LinkedList","asArray","current","head","previous","tail","currentPreviousNode","getNode","currentNextNode","createInternalArrayRepresentation","removedNode","arg","last","reverse","lastItem","outArray","OnChange","defaultValue","sufix","OnChangeHandler","propertyKey","_key","defineProperty","get","prevValue","Utils","bs","elem","view","opener","_messagesHash","_hideMsg","console","warnOnce","msg","warn"],"mappings":"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","file":"default~views-articles-articles-module~views-customers-customers-module~views-dashboard-dashboard-mo~53146d1b-es5.js","sourcesContent":["import { EventEmitter, Injector, ElementRef, TemplateRef, Injectable, ComponentFactoryResolver, NgZone, ApplicationRef } from '@angular/core';\nimport { listenToTriggersV2, registerOutsideClick, registerEscClick } from 'ngx-bootstrap/utils';\nimport { PositioningService } from 'ngx-bootstrap/positioning';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from 'ngx-bootstrap/positioning';\nclass BsComponentRef {\n}\nif (false) {\n    /** @type {?} */\n    BsComponentRef.prototype.templateRef;\n    /** @type {?} */\n    BsComponentRef.prototype.viewContainer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @copyright Valor Software\n * @copyright Angular ng-bootstrap team\n */\nclass ContentRef {\n    /**\n     * @param {?} nodes\n     * @param {?=} viewRef\n     * @param {?=} componentRef\n     */\n    constructor(\n    /* tslint:disable-next-line: no-any */\n    nodes, viewRef, \n    /* tslint:disable-next-line: no-any */\n    componentRef) {\n        this.nodes = nodes;\n        this.viewRef = viewRef;\n        this.componentRef = componentRef;\n    }\n}\nif (false) {\n    /** @type {?} */\n    ContentRef.prototype.nodes;\n    /** @type {?} */\n    ContentRef.prototype.viewRef;\n    /** @type {?} */\n    ContentRef.prototype.componentRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nclass ComponentLoader {\n    /**\n     * Do not use this directly, it should be instanced via\n     * `ComponentLoadFactory.attach`\n     * \\@internal\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @param {?} _elementRef\n     * @param {?} _injector\n     * @param {?} _componentFactoryResolver\n     * @param {?} _ngZone\n     * @param {?} _applicationRef\n     * @param {?} _posService\n     */\n    // tslint:disable-next-line\n    constructor(_viewContainerRef, _renderer, _elementRef, _injector, _componentFactoryResolver, _ngZone, _applicationRef, _posService) {\n        this._viewContainerRef = _viewContainerRef;\n        this._renderer = _renderer;\n        this._elementRef = _elementRef;\n        this._injector = _injector;\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._ngZone = _ngZone;\n        this._applicationRef = _applicationRef;\n        this._posService = _posService;\n        this.onBeforeShow = new EventEmitter();\n        /* tslint:disable-next-line: no-any*/\n        this.onShown = new EventEmitter();\n        /* tslint:disable-next-line: no-any*/\n        this.onBeforeHide = new EventEmitter();\n        this.onHidden = new EventEmitter();\n        this._providers = [];\n        this._isHiding = false;\n        /**\n         * A selector used if container element was not found\n         */\n        this.containerDefaultSelector = 'body';\n        this._listenOpts = {};\n        this._globalListener = Function.prototype;\n    }\n    /**\n     * @return {?}\n     */\n    get isShown() {\n        if (this._isHiding) {\n            return false;\n        }\n        return !!this._componentRef;\n    }\n    /**\n     * @param {?} compType\n     * @return {?}\n     */\n    attach(compType) {\n        this._componentFactory = this._componentFactoryResolver\n            .resolveComponentFactory(compType);\n        return this;\n    }\n    // todo: add behaviour: to target element, `body`, custom element\n    /**\n     * @param {?=} container\n     * @return {?}\n     */\n    to(container) {\n        this.container = container || this.container;\n        return this;\n    }\n    /**\n     * @param {?=} opts\n     * @return {?}\n     */\n    position(opts) {\n        this.attachment = opts.attachment || this.attachment;\n        /* tslint:disable-next-line: no-unnecessary-type-assertion */\n        this._elementRef = ((/** @type {?} */ (opts.target))) || this._elementRef;\n        return this;\n    }\n    /**\n     * @param {?} provider\n     * @return {?}\n     */\n    provide(provider) {\n        this._providers.push(provider);\n        return this;\n    }\n    // todo: appendChild to element or document.querySelector(this.container)\n    /**\n     * @param {?=} opts\n     * @return {?}\n     */\n    show(opts = {}) {\n        this._subscribePositioning();\n        this._innerComponent = null;\n        if (!this._componentRef) {\n            this.onBeforeShow.emit();\n            this._contentRef = this._getContentRef(opts.content, opts.context, opts.initialState);\n            /** @type {?} */\n            const injector = Injector.create({\n                providers: this._providers,\n                parent: this._injector\n            });\n            this._componentRef = this._componentFactory.create(injector, this._contentRef.nodes);\n            this._applicationRef.attachView(this._componentRef.hostView);\n            // this._componentRef = this._viewContainerRef\n            //   .createComponent(this._componentFactory, 0, injector, this._contentRef.nodes);\n            this.instance = this._componentRef.instance;\n            Object.assign(this._componentRef.instance, opts);\n            if (this.container instanceof ElementRef) {\n                this.container.nativeElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            if (typeof this.container === 'string' && typeof document !== 'undefined') {\n                /** @type {?} */\n                const selectedElement = document.querySelector(this.container) ||\n                    document.querySelector(this.containerDefaultSelector);\n                selectedElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            if (!this.container &&\n                this._elementRef &&\n                this._elementRef.nativeElement.parentElement) {\n                this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement);\n            }\n            // we need to manually invoke change detection since events registered\n            // via\n            // Renderer::listen() are not picked up by change detection with the\n            // OnPush strategy\n            if (this._contentRef.componentRef) {\n                this._innerComponent = this._contentRef.componentRef.instance;\n                this._contentRef.componentRef.changeDetectorRef.markForCheck();\n                this._contentRef.componentRef.changeDetectorRef.detectChanges();\n            }\n            this._componentRef.changeDetectorRef.markForCheck();\n            this._componentRef.changeDetectorRef.detectChanges();\n            this.onShown.emit(opts.id ? { id: opts.id } : this._componentRef.instance);\n        }\n        this._registerOutsideClick();\n        return this._componentRef;\n    }\n    /**\n     * @param {?=} id\n     * @return {?}\n     */\n    hide(id) {\n        if (!this._componentRef) {\n            return this;\n        }\n        this._posService.deletePositionElement(this._componentRef.location);\n        this.onBeforeHide.emit(this._componentRef.instance);\n        /** @type {?} */\n        const componentEl = this._componentRef.location.nativeElement;\n        componentEl.parentNode.removeChild(componentEl);\n        if (this._contentRef.componentRef) {\n            this._contentRef.componentRef.destroy();\n        }\n        if (this._viewContainerRef && this._contentRef.viewRef) {\n            this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef));\n        }\n        if (this._contentRef.viewRef) {\n            this._contentRef.viewRef.destroy();\n        }\n        this._contentRef = null;\n        this._componentRef = null;\n        this._removeGlobalListener();\n        this.onHidden.emit(id ? { id } : null);\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    toggle() {\n        if (this.isShown) {\n            this.hide();\n            return;\n        }\n        this.show();\n    }\n    /**\n     * @return {?}\n     */\n    dispose() {\n        if (this.isShown) {\n            this.hide();\n        }\n        this._unsubscribePositioning();\n        if (this._unregisterListenersFn) {\n            this._unregisterListenersFn();\n        }\n    }\n    /**\n     * @param {?} listenOpts\n     * @return {?}\n     */\n    listen(listenOpts) {\n        this.triggers = listenOpts.triggers || this.triggers;\n        this._listenOpts.outsideClick = listenOpts.outsideClick;\n        this._listenOpts.outsideEsc = listenOpts.outsideEsc;\n        listenOpts.target = listenOpts.target || this._elementRef.nativeElement;\n        /** @type {?} */\n        const hide = (this._listenOpts.hide = (/**\n         * @return {?}\n         */\n        () => listenOpts.hide ? listenOpts.hide() : void this.hide()));\n        /** @type {?} */\n        const show = (this._listenOpts.show = (/**\n         * @param {?} registerHide\n         * @return {?}\n         */\n        (registerHide) => {\n            listenOpts.show ? listenOpts.show(registerHide) : this.show(registerHide);\n            registerHide();\n        }));\n        /** @type {?} */\n        const toggle = (/**\n         * @param {?} registerHide\n         * @return {?}\n         */\n        (registerHide) => {\n            this.isShown ? hide() : show(registerHide);\n        });\n        this._unregisterListenersFn = listenToTriggersV2(this._renderer, {\n            target: listenOpts.target,\n            triggers: listenOpts.triggers,\n            show,\n            hide,\n            toggle\n        });\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    _removeGlobalListener() {\n        if (this._globalListener) {\n            this._globalListener();\n            this._globalListener = null;\n        }\n    }\n    /**\n     * @param {?} vRef\n     * @param {?} template\n     * @return {?}\n     */\n    attachInline(vRef, \n    /* tslint:disable-next-line: no-any*/\n    template) {\n        this._inlineViewRef = vRef.createEmbeddedView(template);\n        return this;\n    }\n    /**\n     * @return {?}\n     */\n    _registerOutsideClick() {\n        if (!this._componentRef || !this._componentRef.location) {\n            return;\n        }\n        // why: should run after first event bubble\n        if (this._listenOpts.outsideClick) {\n            /** @type {?} */\n            const target = this._componentRef.location.nativeElement;\n            setTimeout((/**\n             * @return {?}\n             */\n            () => {\n                this._globalListener = registerOutsideClick(this._renderer, {\n                    targets: [target, this._elementRef.nativeElement],\n                    outsideClick: this._listenOpts.outsideClick,\n                    hide: (/**\n                     * @return {?}\n                     */\n                    () => this._listenOpts.hide())\n                });\n            }));\n        }\n        if (this._listenOpts.outsideEsc) {\n            /** @type {?} */\n            const target = this._componentRef.location.nativeElement;\n            this._globalListener = registerEscClick(this._renderer, {\n                targets: [target, this._elementRef.nativeElement],\n                outsideEsc: this._listenOpts.outsideEsc,\n                hide: (/**\n                 * @return {?}\n                 */\n                () => this._listenOpts.hide())\n            });\n        }\n    }\n    /**\n     * @return {?}\n     */\n    getInnerComponent() {\n        return this._innerComponent;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _subscribePositioning() {\n        if (this._zoneSubscription || !this.attachment) {\n            return;\n        }\n        this.onShown.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            this._posService.position({\n                element: this._componentRef.location,\n                target: this._elementRef,\n                attachment: this.attachment,\n                appendToBody: this.container === 'body'\n            });\n        }));\n        this._zoneSubscription = this._ngZone.onStable.subscribe((/**\n         * @return {?}\n         */\n        () => {\n            if (!this._componentRef) {\n                return;\n            }\n            this._posService.calcPosition();\n        }));\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    _unsubscribePositioning() {\n        if (!this._zoneSubscription) {\n            return;\n        }\n        this._zoneSubscription.unsubscribe();\n        this._zoneSubscription = null;\n    }\n    /**\n     * @private\n     * @param {?} content\n     * @param {?=} context\n     * @param {?=} initialState\n     * @return {?}\n     */\n    _getContentRef(\n    /* tslint:disable-next-line: no-any*/\n    content, \n    /* tslint:disable-next-line: no-any*/\n    context, \n    /* tslint:disable-next-line: no-any*/\n    initialState) {\n        if (!content) {\n            return new ContentRef([]);\n        }\n        if (content instanceof TemplateRef) {\n            if (this._viewContainerRef) {\n                /** @type {?} */\n                const _viewRef = this._viewContainerRef\n                    .createEmbeddedView(content, context);\n                _viewRef.markForCheck();\n                return new ContentRef([_viewRef.rootNodes], _viewRef);\n            }\n            /** @type {?} */\n            const viewRef = content.createEmbeddedView({});\n            this._applicationRef.attachView(viewRef);\n            return new ContentRef([viewRef.rootNodes], viewRef);\n        }\n        if (typeof content === 'function') {\n            /** @type {?} */\n            const contentCmptFactory = this._componentFactoryResolver.resolveComponentFactory(content);\n            /** @type {?} */\n            const modalContentInjector = Injector.create({\n                providers: this._providers,\n                parent: this._injector\n            });\n            /** @type {?} */\n            const componentRef = contentCmptFactory.create(modalContentInjector);\n            Object.assign(componentRef.instance, initialState);\n            this._applicationRef.attachView(componentRef.hostView);\n            return new ContentRef([[componentRef.location.nativeElement]], componentRef.hostView, componentRef);\n        }\n        return new ContentRef([[this._renderer.createText(`${content}`)]]);\n    }\n}\nif (false) {\n    /** @type {?} */\n    ComponentLoader.prototype.onBeforeShow;\n    /** @type {?} */\n    ComponentLoader.prototype.onShown;\n    /** @type {?} */\n    ComponentLoader.prototype.onBeforeHide;\n    /** @type {?} */\n    ComponentLoader.prototype.onHidden;\n    /** @type {?} */\n    ComponentLoader.prototype.instance;\n    /** @type {?} */\n    ComponentLoader.prototype._componentRef;\n    /** @type {?} */\n    ComponentLoader.prototype._inlineViewRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._providers;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._componentFactory;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._zoneSubscription;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._contentRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._innerComponent;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._unregisterListenersFn;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._isHiding;\n    /**\n     * Placement of a component. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.attachment;\n    /**\n     * A selector specifying the element the popover should be appended to.\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.container;\n    /**\n     * A selector used if container element was not found\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.containerDefaultSelector;\n    /**\n     * Specifies events that should trigger. Supports a space separated list of\n     * event names.\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype.triggers;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._listenOpts;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._globalListener;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._viewContainerRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._renderer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._elementRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._componentFactoryResolver;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._applicationRef;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoader.prototype._posService;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass ComponentLoaderFactory {\n    /**\n     * @param {?} _componentFactoryResolver\n     * @param {?} _ngZone\n     * @param {?} _injector\n     * @param {?} _posService\n     * @param {?} _applicationRef\n     */\n    constructor(_componentFactoryResolver, _ngZone, _injector, _posService, _applicationRef) {\n        this._componentFactoryResolver = _componentFactoryResolver;\n        this._ngZone = _ngZone;\n        this._injector = _injector;\n        this._posService = _posService;\n        this._applicationRef = _applicationRef;\n    }\n    /**\n     *\n     * @template T\n     * @param {?} _elementRef\n     * @param {?} _viewContainerRef\n     * @param {?} _renderer\n     * @return {?}\n     */\n    createLoader(_elementRef, _viewContainerRef, _renderer) {\n        return new ComponentLoader(_viewContainerRef, _renderer, _elementRef, this._injector, this._componentFactoryResolver, this._ngZone, this._applicationRef, this._posService);\n    }\n}\nComponentLoaderFactory.ɵfac = function ComponentLoaderFactory_Factory(t) { return new (t || ComponentLoaderFactory)(ɵngcc0.ɵɵinject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc0.Injector), ɵngcc0.ɵɵinject(ɵngcc1.PositioningService), ɵngcc0.ɵɵinject(ɵngcc0.ApplicationRef)); };\nComponentLoaderFactory.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: ComponentLoaderFactory, factory: ComponentLoaderFactory.ɵfac });\n/** @nocollapse */\nComponentLoaderFactory.ctorParameters = () => [\n    { type: ComponentFactoryResolver },\n    { type: NgZone },\n    { type: Injector },\n    { type: PositioningService },\n    { type: ApplicationRef }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(ComponentLoaderFactory, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.ComponentFactoryResolver }, { type: ɵngcc0.NgZone }, { type: ɵngcc0.Injector }, { type: ɵngcc1.PositioningService }, { type: ɵngcc0.ApplicationRef }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._componentFactoryResolver;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._ngZone;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._injector;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._posService;\n    /**\n     * @type {?}\n     * @private\n     */\n    ComponentLoaderFactory.prototype._applicationRef;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { BsComponentRef, ComponentLoader, ComponentLoaderFactory, ContentRef };\n\n//# sourceMappingURL=ngx-bootstrap-component-loader.js.map","import { Injectable, NgZone, RendererFactory2, Inject, PLATFORM_ID, ElementRef } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Subject, merge, fromEvent, of, animationFrameScheduler } from 'rxjs';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get CSS computed property of the given element\n * @param {?} element\n * @param {?=} property\n * @return {?}\n */\nimport * as ɵngcc0 from '@angular/core';\nfunction getStyleComputedProperty(element, property) {\n    if (element.nodeType !== 1) {\n        return [];\n    }\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    const window = element.ownerDocument.defaultView;\n    /** @type {?} */\n    const css = window.getComputedStyle(element, null);\n    return property ? css[(/** @type {?} */ (property))] : css;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Returns the parentNode or the host of the element\n * @param {?} element\n * @return {?}\n */\nfunction getParentNode(element) {\n    if (element.nodeName === 'HTML') {\n        return element;\n    }\n    return element.parentNode || element.host;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getScrollParent(element) {\n    // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n    if (!element) {\n        return document.body;\n    }\n    switch (element.nodeName) {\n        case 'HTML':\n        case 'BODY':\n            return element.ownerDocument.body;\n        case '#document':\n            return element.body;\n        default:\n    }\n    // Firefox want us to check `-x` and `-y` variations as well\n    const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\n    if (/(auto|scroll|overlay)/.test(String(overflow) + String(overflowY) + String(overflowX))) {\n        return element;\n    }\n    return getScrollParent(getParentNode(element));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst isIE11 = isBrowser && !!(((/** @type {?} */ (window))).MSInputMethodContext && ((/** @type {?} */ (document))).documentMode);\n/** @type {?} */\nconst isIE10 = isBrowser && !!(((/** @type {?} */ (window))).MSInputMethodContext && /MSIE 10/.test(((/** @type {?} */ (navigator))).userAgent));\n/**\n * @param {?=} version\n * @return {?}\n */\nfunction isIE(version) {\n    if (version === 11) {\n        return isIE11;\n    }\n    if (version === 10) {\n        return isIE10;\n    }\n    return isIE11 || isIE10;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getOffsetParent(element) {\n    if (!element) {\n        return document.documentElement;\n    }\n    /** @type {?} */\n    const noOffsetParent = isIE(10) ? document.body : null;\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    let offsetParent = element.offsetParent || null;\n    // Skip hidden elements which don't have an offsetParent\n    /** @type {?} */\n    let sibling;\n    while (offsetParent === noOffsetParent\n        && element.nextElementSibling\n        && sibling !== element.nextElementSibling) {\n        sibling = element.nextElementSibling;\n        offsetParent = sibling.offsetParent;\n    }\n    /** @type {?} */\n    const nodeName = offsetParent && offsetParent.nodeName;\n    if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n        return sibling ? sibling.ownerDocument.documentElement : document.documentElement;\n    }\n    // .offsetParent will return the closest TH, TD or TABLE in case\n    if (['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\n        getStyleComputedProperty(offsetParent, 'position') === 'static') {\n        return getOffsetParent(offsetParent);\n    }\n    return offsetParent;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction isOffsetContainer(element) {\n    const { nodeName } = element;\n    if (nodeName === 'BODY') {\n        return false;\n    }\n    return (nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Finds the root node (document, shadowDOM root) of the given element\n * @param {?} node\n * @return {?}\n */\nfunction getRoot(node) {\n    if (node.parentNode !== null) {\n        return getRoot(node.parentNode);\n    }\n    return node;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element1\n * @param {?} element2\n * @return {?}\n */\nfunction findCommonOffsetParent(element1, element2) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n        return document.documentElement;\n    }\n    // Here we make sure to give as \"start\" the element that comes first in the DOM\n    /* tslint:disable-next-line: no-bitwise */\n    /** @type {?} */\n    const order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n    /** @type {?} */\n    const start = order ? element1 : element2;\n    /** @type {?} */\n    const end = order ? element2 : element1;\n    // Get common ancestor container\n    /** @type {?} */\n    const range = document.createRange();\n    range.setStart(start, 0);\n    range.setEnd(end, 0);\n    const { commonAncestorContainer } = range;\n    // Both nodes are inside #document\n    if ((element1 !== commonAncestorContainer &&\n        element2 !== commonAncestorContainer) ||\n        start.contains(end)) {\n        if (isOffsetContainer(commonAncestorContainer)) {\n            return commonAncestorContainer;\n        }\n        return getOffsetParent(commonAncestorContainer);\n    }\n    // one of the nodes is inside shadowDOM, find which one\n    /** @type {?} */\n    const element1root = getRoot(element1);\n    if (element1root.host) {\n        return findCommonOffsetParent(element1root.host, element2);\n    }\n    else {\n        return findCommonOffsetParent(element1, getRoot(element2).host);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Helper to detect borders of a given element\n */\n/**\n * @param {?} styles\n * @param {?} axis\n * @return {?}\n */\nfunction getBordersSize(styles, axis) {\n    /** @type {?} */\n    const sideA = axis === 'x' ? 'Left' : 'Top';\n    /** @type {?} */\n    const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n    return (parseFloat(styles[(/** @type {?} */ (`border${sideA}Width`))]) +\n        parseFloat(styles[(/** @type {?} */ (`border${sideB}Width`))]));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} axis\n * @param {?} body\n * @param {?} html\n * @param {?} computedStyle\n * @return {?}\n */\nfunction getSize(axis, body, html, computedStyle) {\n    return Math.max(((/** @type {?} */ (body)))[`offset${axis}`], ((/** @type {?} */ (body)))[`scroll${axis}`], ((/** @type {?} */ (html)))[`client${axis}`], ((/** @type {?} */ (html)))[`offset${axis}`], ((/** @type {?} */ (html)))[`scroll${axis}`], isIE(10)\n        ? (parseInt(((/** @type {?} */ (html)))[`offset${axis}`], 10) +\n            parseInt(computedStyle[(/** @type {?} */ (`margin${axis === 'Height' ? 'Top' : 'Left'}`))], 10) +\n            parseInt(computedStyle[(/** @type {?} */ (`margin${axis === 'Height' ? 'Bottom' : 'Right'}`))], 10))\n        : 0);\n}\n/**\n * @param {?} document\n * @return {?}\n */\nfunction getWindowSizes(document) {\n    /** @type {?} */\n    const body = document.body;\n    /** @type {?} */\n    const html = document.documentElement;\n    /** @type {?} */\n    const computedStyle = isIE(10) && getComputedStyle(html);\n    return {\n        height: getSize('Height', body, html, computedStyle),\n        width: getSize('Width', body, html, computedStyle)\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Gets the scroll value of the given element in the given side (top and left)\n * @param {?} element\n * @param {?=} side\n * @return {?}\n */\nfunction getScroll(element, side = 'top') {\n    /** @type {?} */\n    const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n    /** @type {?} */\n    const nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        /** @type {?} */\n        const html = element.ownerDocument.documentElement;\n        /** @type {?} */\n        const scrollingElement = element.ownerDocument.scrollingElement || html;\n        return scrollingElement[upperSide];\n    }\n    return element[upperSide];\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} offsets\n * @return {?}\n */\nfunction getClientRect(offsets) {\n    return Object.assign(Object.assign({}, offsets), { right: offsets.left + offsets.width, bottom: offsets.top + offsets.height });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getBoundingClientRect(element) {\n    /** @type {?} */\n    let rect = {};\n    // IE10 10 FIX: Please, don't ask, the element isn't\n    // considered in DOM in some circumstances...\n    // This isn't reproducible in IE10 compatibility mode of IE11\n    try {\n        if (isIE(10)) {\n            rect = element.getBoundingClientRect();\n            /** @type {?} */\n            const scrollTop = getScroll(element, 'top');\n            /** @type {?} */\n            const scrollLeft = getScroll(element, 'left');\n            rect.top += scrollTop;\n            rect.left += scrollLeft;\n            rect.bottom += scrollTop;\n            rect.right += scrollLeft;\n        }\n        else {\n            rect = element.getBoundingClientRect();\n        }\n    }\n    catch (e) {\n        return undefined;\n    }\n    /** @type {?} */\n    const result = {\n        left: rect.left,\n        top: rect.top,\n        width: rect.right - rect.left,\n        height: rect.bottom - rect.top\n    };\n    // subtract scrollbar size from sizes\n    /** @type {?} */\n    const sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\n    /** @type {?} */\n    const width = sizes.width || element.clientWidth || result.right - result.left;\n    /** @type {?} */\n    const height = sizes.height || element.clientHeight || result.bottom - result.top;\n    /** @type {?} */\n    let horizScrollbar = element.offsetWidth - width;\n    /** @type {?} */\n    let vertScrollbar = element.offsetHeight - height;\n    // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n    // we make this check conditional for performance reasons\n    if (horizScrollbar || vertScrollbar) {\n        /** @type {?} */\n        const styles = getStyleComputedProperty(element);\n        horizScrollbar -= getBordersSize(styles, 'x');\n        vertScrollbar -= getBordersSize(styles, 'y');\n        result.width -= horizScrollbar;\n        result.height -= vertScrollbar;\n    }\n    return getClientRect(result);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} rect\n * @param {?} element\n * @param {?=} subtract\n * @return {?}\n */\nfunction includeScroll(rect, element, subtract = false) {\n    /** @type {?} */\n    const scrollTop = getScroll(element, 'top');\n    /** @type {?} */\n    const scrollLeft = getScroll(element, 'left');\n    /** @type {?} */\n    const modifier = subtract ? -1 : 1;\n    rect.top += scrollTop * modifier;\n    rect.bottom += scrollTop * modifier;\n    rect.left += scrollLeft * modifier;\n    rect.right += scrollLeft * modifier;\n    return rect;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} children\n * @param {?} parent\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getOffsetRectRelativeToArbitraryNode(children, parent, fixedPosition = false) {\n    /** @type {?} */\n    const isIE10 = isIE(10);\n    /** @type {?} */\n    const isHTML = parent.nodeName === 'HTML';\n    /** @type {?} */\n    const childrenRect = getBoundingClientRect(children);\n    /** @type {?} */\n    const parentRect = getBoundingClientRect(parent);\n    /** @type {?} */\n    const scrollParent = getScrollParent(children);\n    /** @type {?} */\n    const styles = getStyleComputedProperty(parent);\n    /** @type {?} */\n    const borderTopWidth = parseFloat(styles.borderTopWidth);\n    /** @type {?} */\n    const borderLeftWidth = parseFloat(styles.borderLeftWidth);\n    // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n    if (fixedPosition && isHTML) {\n        parentRect.top = Math.max(parentRect.top, 0);\n        parentRect.left = Math.max(parentRect.left, 0);\n    }\n    /** @type {?} */\n    let offsets = getClientRect({\n        top: childrenRect.top - parentRect.top - borderTopWidth,\n        left: childrenRect.left - parentRect.left - borderLeftWidth,\n        width: childrenRect.width,\n        height: childrenRect.height\n    });\n    offsets.marginTop = 0;\n    offsets.marginLeft = 0;\n    // Subtract margins of documentElement in case it's being used as parent\n    // we do this only on HTML because it's the only element that behaves\n    // differently when margins are applied to it. The margins are included in\n    // the box of the documentElement, in the other cases not.\n    if (!isIE10 && isHTML) {\n        /** @type {?} */\n        const marginTop = parseFloat(styles.marginTop);\n        /** @type {?} */\n        const marginLeft = parseFloat(styles.marginLeft);\n        offsets.top -= borderTopWidth - marginTop;\n        offsets.bottom -= borderTopWidth - marginTop;\n        offsets.left -= borderLeftWidth - marginLeft;\n        offsets.right -= borderLeftWidth - marginLeft;\n        // Attach marginTop and marginLeft because in some circumstances we may need them\n        offsets.marginTop = marginTop;\n        offsets.marginLeft = marginLeft;\n    }\n    if (isIE10 && !fixedPosition\n        ? parent.contains(scrollParent)\n        : parent === scrollParent && scrollParent.nodeName !== 'BODY') {\n        offsets = includeScroll(offsets, parent);\n    }\n    return offsets;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @param {?=} excludeScroll\n * @return {?}\n */\nfunction getViewportOffsetRectRelativeToArtbitraryNode(element, excludeScroll = false) {\n    /** @type {?} */\n    const html = element.ownerDocument.documentElement;\n    /** @type {?} */\n    const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n    /** @type {?} */\n    const width = Math.max(html.clientWidth, window.innerWidth || 0);\n    /** @type {?} */\n    const height = Math.max(html.clientHeight, window.innerHeight || 0);\n    /** @type {?} */\n    const scrollTop = !excludeScroll ? getScroll(html) : 0;\n    /** @type {?} */\n    const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n    /** @type {?} */\n    const offset = {\n        top: scrollTop - Number(relativeOffset.top) + Number(relativeOffset.marginTop),\n        left: scrollLeft - Number(relativeOffset.left) + Number(relativeOffset.marginLeft),\n        width,\n        height\n    };\n    return getClientRect(offset);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction isFixed(element) {\n    /** @type {?} */\n    const nodeName = element.nodeName;\n    if (nodeName === 'BODY' || nodeName === 'HTML') {\n        return false;\n    }\n    if (getStyleComputedProperty(element, 'position') === 'fixed') {\n        return true;\n    }\n    return isFixed(getParentNode(element));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @return {?}\n */\nfunction getFixedPositionOffsetParent(element) {\n    // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n    if (!element || !element.parentElement || isIE()) {\n        return document.documentElement;\n    }\n    /** @type {?} */\n    let el = element.parentElement;\n    while (el && getStyleComputedProperty(el, 'transform') === 'none') {\n        el = el.parentElement;\n    }\n    return el || document.documentElement;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} host\n * @param {?=} padding\n * @param {?=} boundariesElement\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getBoundaries(target, host, padding = 0, boundariesElement, fixedPosition = false) {\n    // NOTE: 1 DOM access here\n    // NOTE: 1 DOM access here\n    /** @type {?} */\n    let boundaries = { top: 0, left: 0 };\n    /** @type {?} */\n    const offsetParent = fixedPosition ? getFixedPositionOffsetParent(target) : findCommonOffsetParent(target, host);\n    // Handle viewport case\n    if (boundariesElement === 'viewport') {\n        boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n    }\n    else {\n        // Handle other cases based on DOM element used as boundaries\n        /** @type {?} */\n        let boundariesNode;\n        if (boundariesElement === 'scrollParent') {\n            boundariesNode = getScrollParent(getParentNode(host));\n            if (boundariesNode.nodeName === 'BODY') {\n                boundariesNode = target.ownerDocument.documentElement;\n            }\n        }\n        else if (boundariesElement === 'window') {\n            boundariesNode = target.ownerDocument.documentElement;\n        }\n        else {\n            boundariesNode = boundariesElement;\n        }\n        /** @type {?} */\n        const offsets = getOffsetRectRelativeToArbitraryNode(boundariesNode, offsetParent, fixedPosition);\n        // In case of HTML, we need a different computation\n        if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n            const { height, width } = getWindowSizes(target.ownerDocument);\n            boundaries.top += offsets.top - offsets.marginTop;\n            boundaries.bottom = Number(height) + Number(offsets.top);\n            boundaries.left += offsets.left - offsets.marginLeft;\n            boundaries.right = Number(width) + Number(offsets.left);\n        }\n        else {\n            // for all the other DOM elements, this one is good\n            boundaries = offsets;\n        }\n    }\n    // Add paddings\n    boundaries.left += padding;\n    boundaries.top += padding;\n    boundaries.right -= padding;\n    boundaries.bottom -= padding;\n    return boundaries;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} __0\n * @return {?}\n */\nfunction getArea({ width, height }) {\n    return width * height;\n}\n/**\n * @param {?} placement\n * @param {?} refRect\n * @param {?} target\n * @param {?} host\n * @param {?=} allowedPositions\n * @param {?=} boundariesElement\n * @param {?=} padding\n * @return {?}\n */\nfunction computeAutoPlacement(placement, refRect, target, host, allowedPositions = ['top', 'bottom', 'right', 'left'], boundariesElement = 'viewport', padding = 0) {\n    if (placement.indexOf('auto') === -1) {\n        return placement;\n    }\n    /** @type {?} */\n    const boundaries = getBoundaries(target, host, padding, boundariesElement);\n    /** @type {?} */\n    const rects = {\n        top: {\n            width: boundaries.width,\n            height: refRect.top - boundaries.top\n        },\n        right: {\n            width: boundaries.right - refRect.right,\n            height: boundaries.height\n        },\n        bottom: {\n            width: boundaries.width,\n            height: boundaries.bottom - refRect.bottom\n        },\n        left: {\n            width: refRect.left - boundaries.left,\n            height: boundaries.height\n        }\n    };\n    /** @type {?} */\n    const sortedAreas = Object.keys(rects)\n        .map((/**\n     * @param {?} key\n     * @return {?}\n     */\n    key => (Object.assign(Object.assign({ key }, rects[key]), { area: getArea(rects[key]) }))))\n        .sort((/**\n     * @param {?} a\n     * @param {?} b\n     * @return {?}\n     */\n    (a, b) => b.area - a.area));\n    /** @type {?} */\n    let filteredAreas = sortedAreas.filter((/**\n     * @param {?} __0\n     * @return {?}\n     */\n    ({ width, height }) => {\n        return width >= target.clientWidth\n            && height >= target.clientHeight;\n    }));\n    filteredAreas = filteredAreas.filter((/**\n     * @param {?} position\n     * @return {?}\n     */\n    (position) => {\n        return allowedPositions\n            .some((/**\n         * @param {?} allowedPosition\n         * @return {?}\n         */\n        (allowedPosition) => {\n            return allowedPosition === position.key;\n        }));\n    }));\n    /** @type {?} */\n    const computedPlacement = filteredAreas.length > 0\n        ? filteredAreas[0].key\n        : sortedAreas[0].key;\n    /** @type {?} */\n    const variation = placement.split(' ')[1];\n    // for tooltip on auto position\n    target.className = target.className.replace(/bs-tooltip-auto/g, `bs-tooltip-${computedPlacement}`);\n    return computedPlacement + (variation ? `-${variation}` : '');\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction getOffsets(data) {\n    return {\n        width: data.offsets.target.width,\n        height: data.offsets.target.height,\n        left: Math.floor(data.offsets.target.left),\n        top: Math.round(data.offsets.target.top),\n        bottom: Math.round(data.offsets.target.bottom),\n        right: Math.floor(data.offsets.target.right)\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the opposite placement of the given one\n * @param {?} placement\n * @return {?}\n */\nfunction getOppositePlacement(placement) {\n    /** @type {?} */\n    const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n    return placement.replace(/left|right|bottom|top/g, (/**\n     * @param {?} matched\n     * @return {?}\n     */\n    matched => ((/** @type {?} */ (hash)))[matched]));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the opposite placement variation of the given one\n * @param {?} variation\n * @return {?}\n */\nfunction getOppositeVariation(variation) {\n    if (variation === 'right') {\n        return 'left';\n    }\n    else if (variation === 'left') {\n        return 'right';\n    }\n    return variation;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Get the outer sizes of the given element (offset size + margins)\n * @param {?} element\n * @return {?}\n */\nfunction getOuterSizes(element) {\n    /** @type {?} */\n    const window = element.ownerDocument.defaultView;\n    /** @type {?} */\n    const styles = window.getComputedStyle(element);\n    /** @type {?} */\n    const x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\n    /** @type {?} */\n    const y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\n    return {\n        width: Number(element.offsetWidth) + y,\n        height: Number(element.offsetHeight) + x\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} host\n * @param {?=} fixedPosition\n * @return {?}\n */\nfunction getReferenceOffsets(target, host, fixedPosition = null) {\n    /** @type {?} */\n    const commonOffsetParent = fixedPosition\n        ? getFixedPositionOffsetParent(target)\n        : findCommonOffsetParent(target, host);\n    return getOffsetRectRelativeToArbitraryNode(host, commonOffsetParent, fixedPosition);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} target\n * @param {?} hostOffsets\n * @param {?} position\n * @return {?}\n */\nfunction getTargetOffsets(target, hostOffsets, position) {\n    /** @type {?} */\n    const placement = position.split(' ')[0];\n    // Get target node sizes\n    /** @type {?} */\n    const targetRect = getOuterSizes(target);\n    // Add position, width and height to our offsets object\n    /** @type {?} */\n    const targetOffsets = {\n        width: targetRect.width,\n        height: targetRect.height\n    };\n    // depending by the target placement we have to compute its offsets slightly differently\n    /** @type {?} */\n    const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n    /** @type {?} */\n    const mainSide = isHoriz ? 'top' : 'left';\n    /** @type {?} */\n    const secondarySide = isHoriz ? 'left' : 'top';\n    /** @type {?} */\n    const measurement = isHoriz ? 'height' : 'width';\n    /** @type {?} */\n    const secondaryMeasurement = !isHoriz ? 'height' : 'width';\n    ((/** @type {?} */ (targetOffsets)))[mainSide] =\n        hostOffsets[mainSide] +\n            hostOffsets[measurement] / 2 -\n            targetRect[measurement] / 2;\n    ((/** @type {?} */ (targetOffsets)))[secondarySide] = placement === secondarySide\n        ? hostOffsets[secondarySide] - targetRect[secondaryMeasurement]\n        : ((/** @type {?} */ (hostOffsets)))[getOppositePlacement(secondarySide)];\n    return targetOffsets;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Helper used to know if the given modifier is enabled.\n * @param {?} options\n * @param {?} modifierName\n * @return {?}\n */\nfunction isModifierEnabled(options, modifierName) {\n    return options\n        && options.modifiers\n        && options.modifiers[modifierName]\n        && options.modifiers[modifierName].enabled;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * Tells if a given input is a number\n * @param {?} n\n * @return {?}\n */\nfunction isNumeric(n) {\n    return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @param {?=} renderer\n * @return {?}\n */\nfunction updateContainerClass(data, renderer) {\n    /** @type {?} */\n    const target = data.instance.target;\n    /** @type {?} */\n    let containerClass = target.className;\n    if (data.placementAuto) {\n        containerClass = containerClass.replace(/bs-popover-auto/g, `bs-popover-${data.placement}`);\n        containerClass = containerClass.replace(/bs-tooltip-auto/g, `bs-tooltip-${data.placement}`);\n        containerClass = containerClass.replace(/\\sauto/g, ` ${data.placement}`);\n        if (containerClass.indexOf('popover') !== -1 && containerClass.indexOf('popover-auto') === -1) {\n            containerClass += ' popover-auto';\n        }\n        if (containerClass.indexOf('tooltip') !== -1 && containerClass.indexOf('tooltip-auto') === -1) {\n            containerClass += ' tooltip-auto';\n        }\n    }\n    containerClass = containerClass.replace(/left|right|top|bottom/g, `${data.placement.split(' ')[0]}`);\n    if (renderer) {\n        renderer.setAttribute(target, 'class', containerClass);\n        return;\n    }\n    target.className = containerClass;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} element\n * @param {?} styles\n * @param {?=} renderer\n * @return {?}\n */\nfunction setStyles(element, styles, renderer) {\n    Object.keys(styles).forEach((/**\n     * @param {?} prop\n     * @return {?}\n     */\n    (prop) => {\n        /** @type {?} */\n        let unit = '';\n        // add unit if the value is numeric and is one of the following\n        if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 &&\n            isNumeric(styles[prop])) {\n            unit = 'px';\n        }\n        if (renderer) {\n            renderer.setStyle(element, prop, `${String(styles[prop])}${unit}`);\n            return;\n        }\n        element.style[prop] = String(styles[prop]) + unit;\n    }));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction arrow(data) {\n    /** @type {?} */\n    let targetOffsets = data.offsets.target;\n    // if arrowElement is a string, suppose it's a CSS selector\n    /** @type {?} */\n    const arrowElement = data.instance.target.querySelector('.arrow');\n    // if arrowElement is not found, don't run the modifier\n    if (!arrowElement) {\n        return data;\n    }\n    /** @type {?} */\n    const isVertical = ['left', 'right'].indexOf(data.placement.split(' ')[0]) !== -1;\n    /** @type {?} */\n    const len = isVertical ? 'height' : 'width';\n    /** @type {?} */\n    const sideCapitalized = isVertical ? 'Top' : 'Left';\n    /** @type {?} */\n    const side = sideCapitalized.toLowerCase();\n    /** @type {?} */\n    const altSide = isVertical ? 'left' : 'top';\n    /** @type {?} */\n    const opSide = isVertical ? 'bottom' : 'right';\n    /** @type {?} */\n    const arrowElementSize = getOuterSizes(arrowElement)[len];\n    /** @type {?} */\n    const placementVariation = data.placement.split(' ')[1];\n    // top/left side\n    if (data.offsets.host[opSide] - arrowElementSize < ((/** @type {?} */ (targetOffsets)))[side]) {\n        ((/** @type {?} */ (targetOffsets)))[side] -=\n            ((/** @type {?} */ (targetOffsets)))[side] - (data.offsets.host[opSide] - arrowElementSize);\n    }\n    // bottom/right side\n    if (Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(arrowElementSize) > ((/** @type {?} */ (targetOffsets)))[opSide]) {\n        ((/** @type {?} */ (targetOffsets)))[side] +=\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(arrowElementSize) - Number(((/** @type {?} */ (targetOffsets)))[opSide]);\n    }\n    targetOffsets = getClientRect(targetOffsets);\n    // Compute the sideValue using the updated target offsets\n    // take target margin in account because we don't have this info available\n    /** @type {?} */\n    const css = getStyleComputedProperty(data.instance.target);\n    /** @type {?} */\n    const targetMarginSide = parseFloat(css[`margin${sideCapitalized}`]);\n    /** @type {?} */\n    const targetBorderSide = parseFloat(css[`border${sideCapitalized}Width`]);\n    // compute center of the target\n    /** @type {?} */\n    let center;\n    if (!placementVariation) {\n        center = Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(data.offsets.host[len] / 2 - arrowElementSize / 2);\n    }\n    else {\n        /** @type {?} */\n        const targetBorderRadius = parseFloat(css.borderRadius);\n        /** @type {?} */\n        const targetSideArrowOffset = Number(targetMarginSide + targetBorderSide + targetBorderRadius);\n        center = side === placementVariation ?\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + targetSideArrowOffset :\n            Number(((/** @type {?} */ (data))).offsets.host[side]) + Number(data.offsets.host[len] - targetSideArrowOffset);\n    }\n    /** @type {?} */\n    let sideValue = center - ((/** @type {?} */ (targetOffsets)))[side] - targetMarginSide - targetBorderSide;\n    // prevent arrowElement from being placed not contiguously to its target\n    sideValue = Math.max(Math.min(targetOffsets[len] - arrowElementSize, sideValue), 0);\n    data.offsets.arrow = {\n        [side]: Math.round(sideValue),\n        [altSide]: '' // make sure to unset any eventual altSide value from the DOM node\n    };\n    data.instance.arrow = arrowElement;\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction flip(data) {\n    data.offsets.target = getClientRect(data.offsets.target);\n    if (!isModifierEnabled(data.options, 'flip')) {\n        data.offsets.target = Object.assign(Object.assign({}, data.offsets.target), getTargetOffsets(data.instance.target, data.offsets.host, data.placement));\n        return data;\n    }\n    /** @type {?} */\n    const boundaries = getBoundaries(data.instance.target, data.instance.host, 0, // padding\n    'viewport', false // positionFixed\n    );\n    /** @type {?} */\n    let placement = data.placement.split(' ')[0];\n    /** @type {?} */\n    let variation = data.placement.split(' ')[1] || '';\n    /** @type {?} */\n    const offsetsHost = data.offsets.host;\n    /** @type {?} */\n    const target = data.instance.target;\n    /** @type {?} */\n    const host = data.instance.host;\n    /** @type {?} */\n    const adaptivePosition = computeAutoPlacement('auto', offsetsHost, target, host, data.options.allowedPositions);\n    /** @type {?} */\n    const flipOrder = [placement, adaptivePosition];\n    /* tslint:disable-next-line: cyclomatic-complexity */\n    flipOrder.forEach((/**\n     * @param {?} step\n     * @param {?} index\n     * @return {?}\n     */\n    (step, index) => {\n        if (placement !== step || flipOrder.length === index + 1) {\n            return data;\n        }\n        placement = data.placement.split(' ')[0];\n        // using floor because the host offsets may contain decimals we are not going to consider here\n        /** @type {?} */\n        const overlapsRef = (placement === 'left' &&\n            Math.floor(data.offsets.target.right) > Math.floor(data.offsets.host.left)) ||\n            (placement === 'right' &&\n                Math.floor(data.offsets.target.left) < Math.floor(data.offsets.host.right)) ||\n            (placement === 'top' &&\n                Math.floor(data.offsets.target.bottom) > Math.floor(data.offsets.host.top)) ||\n            (placement === 'bottom' &&\n                Math.floor(data.offsets.target.top) < Math.floor(data.offsets.host.bottom));\n        /** @type {?} */\n        const overflowsLeft = Math.floor(data.offsets.target.left) < Math.floor(boundaries.left);\n        /** @type {?} */\n        const overflowsRight = Math.floor(data.offsets.target.right) > Math.floor(boundaries.right);\n        /** @type {?} */\n        const overflowsTop = Math.floor(data.offsets.target.top) < Math.floor(boundaries.top);\n        /** @type {?} */\n        const overflowsBottom = Math.floor(data.offsets.target.bottom) > Math.floor(boundaries.bottom);\n        /** @type {?} */\n        const overflowsBoundaries = (placement === 'left' && overflowsLeft) ||\n            (placement === 'right' && overflowsRight) ||\n            (placement === 'top' && overflowsTop) ||\n            (placement === 'bottom' && overflowsBottom);\n        // flip the variation if required\n        /** @type {?} */\n        const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n        /** @type {?} */\n        const flippedVariation = ((isVertical && variation === 'left' && overflowsLeft) ||\n            (isVertical && variation === 'right' && overflowsRight) ||\n            (!isVertical && variation === 'left' && overflowsTop) ||\n            (!isVertical && variation === 'right' && overflowsBottom));\n        if (overlapsRef || overflowsBoundaries || flippedVariation) {\n            if (overlapsRef || overflowsBoundaries) {\n                placement = flipOrder[index + 1];\n            }\n            if (flippedVariation) {\n                variation = getOppositeVariation(variation);\n            }\n            data.placement = placement + (variation ? ` ${variation}` : '');\n            data.offsets.target = Object.assign(Object.assign({}, data.offsets.target), getTargetOffsets(data.instance.target, data.offsets.host, data.placement));\n        }\n    }));\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} targetElement\n * @param {?} hostElement\n * @param {?} position\n * @param {?} options\n * @return {?}\n */\nfunction initData(targetElement, hostElement, position, options) {\n    /** @type {?} */\n    const hostElPosition = getReferenceOffsets(targetElement, hostElement);\n    if (!position.match(/^(auto)*\\s*(left|right|top|bottom)*$/)\n        && !position.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\\s*(start|end)*$/)) {\n        /* tslint:disable-next-line: no-parameter-reassignment */\n        position = 'auto';\n    }\n    /** @type {?} */\n    const placementAuto = !!position.match(/auto/g);\n    // support old placements 'auto left|right|top|bottom'\n    /** @type {?} */\n    let placement = position.match(/auto\\s(left|right|top|bottom)/)\n        ? position.split(' ')[1] || 'auto'\n        : position;\n    // Normalize placements that have identical main placement and variation (\"right right\" => \"right\").\n    /** @type {?} */\n    const matches = placement.match(/^(left|right|top|bottom)* ?(?!\\1)(left|right|top|bottom)?/);\n    if (matches) {\n        placement = matches[1] + (matches[2] ? ` ${matches[2]}` : '');\n    }\n    // \"left right\", \"top bottom\" etc. placements also considered incorrect.\n    if (['left right', 'right left', 'top bottom', 'bottom top'].indexOf(placement) !== -1) {\n        placement = 'auto';\n    }\n    /** @type {?} */\n    const targetOffset = getTargetOffsets(targetElement, hostElPosition, placement);\n    placement = computeAutoPlacement(placement, hostElPosition, targetElement, hostElement, options ? options.allowedPositions : undefined);\n    return {\n        options,\n        instance: {\n            target: targetElement,\n            host: hostElement,\n            arrow: null\n        },\n        offsets: {\n            target: targetOffset,\n            host: hostElPosition,\n            arrow: null\n        },\n        positionFixed: false,\n        placement,\n        placementAuto\n    };\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction preventOverflow(data) {\n    if (!isModifierEnabled(data.options, 'preventOverflow')) {\n        return data;\n    }\n    // NOTE: DOM access here\n    // resets the targetOffsets's position so that the document size can be calculated excluding\n    // the size of the targetOffsets element itself\n    /** @type {?} */\n    const transformProp = 'transform';\n    /** @type {?} */\n    const targetStyles = data.instance.target.style;\n    // assignment to help minification\n    const { top, left, [transformProp]: transform } = targetStyles;\n    targetStyles.top = '';\n    targetStyles.left = '';\n    targetStyles[transformProp] = '';\n    /** @type {?} */\n    const boundaries = getBoundaries(data.instance.target, data.instance.host, 0, // padding\n    'scrollParent', false // positionFixed\n    );\n    // NOTE: DOM access here\n    // restores the original style properties after the offsets have been computed\n    targetStyles.top = top;\n    targetStyles.left = left;\n    targetStyles[transformProp] = transform;\n    /** @type {?} */\n    const order = ['left', 'right', 'top', 'bottom'];\n    /** @type {?} */\n    const check = {\n        /**\n         * @param {?} placement\n         * @return {?}\n         */\n        primary(placement) {\n            /** @type {?} */\n            let value = ((/** @type {?} */ (data))).offsets.target[placement];\n            if (((/** @type {?} */ (data))).offsets.target[placement] < boundaries[placement] &&\n                !false // options.escapeWithReference\n            ) {\n                value = Math.max(((/** @type {?} */ (data))).offsets.target[placement], boundaries[placement]);\n            }\n            return { [placement]: value };\n        },\n        /**\n         * @param {?} placement\n         * @return {?}\n         */\n        secondary(placement) {\n            /** @type {?} */\n            const mainSide = placement === 'right' ? 'left' : 'top';\n            /** @type {?} */\n            let value = data.offsets.target[mainSide];\n            if (((/** @type {?} */ (data))).offsets.target[placement] > boundaries[placement] &&\n                !false // escapeWithReference\n            ) {\n                value = Math.min(data.offsets.target[mainSide], boundaries[placement] -\n                    (placement === 'right' ? data.offsets.target.width : data.offsets.target.height));\n            }\n            return { [mainSide]: value };\n        }\n    };\n    /** @type {?} */\n    let side;\n    order.forEach((/**\n     * @param {?} placement\n     * @return {?}\n     */\n    placement => {\n        side = ['left', 'top']\n            .indexOf(placement) !== -1\n            ? 'primary'\n            : 'secondary';\n        data.offsets.target = Object.assign(Object.assign({}, data.offsets.target), ((/** @type {?} */ (check)))[side](placement));\n    }));\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} data\n * @return {?}\n */\nfunction shift(data) {\n    /** @type {?} */\n    const placement = data.placement;\n    /** @type {?} */\n    const basePlacement = placement.split(' ')[0];\n    /** @type {?} */\n    const shiftVariation = placement.split(' ')[1];\n    if (shiftVariation) {\n        const { host, target } = data.offsets;\n        /** @type {?} */\n        const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n        /** @type {?} */\n        const side = isVertical ? 'left' : 'top';\n        /** @type {?} */\n        const measurement = isVertical ? 'width' : 'height';\n        /** @type {?} */\n        const shiftOffsets = {\n            start: { [side]: host[side] },\n            end: {\n                [side]: host[side] + host[measurement] - target[measurement]\n            }\n        };\n        data.offsets.target = Object.assign(Object.assign({}, target), {\n            [side]: (side === shiftVariation ? ((/** @type {?} */ (shiftOffsets))).start[side] : ((/** @type {?} */ (shiftOffsets))).end[side])\n        });\n    }\n    return data;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Positioning {\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?=} round\n     * @return {?}\n     */\n    position(hostElement, targetElement, round = true) {\n        return this.offset(hostElement, targetElement, false);\n    }\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?=} round\n     * @return {?}\n     */\n    offset(hostElement, targetElement, round = true) {\n        return getReferenceOffsets(targetElement, hostElement);\n    }\n    /**\n     * @param {?} hostElement\n     * @param {?} targetElement\n     * @param {?} position\n     * @param {?=} appendToBody\n     * @param {?=} options\n     * @return {?}\n     */\n    positionElements(hostElement, targetElement, position, appendToBody, options) {\n        /** @type {?} */\n        const chainOfModifiers = [flip, shift, preventOverflow, arrow];\n        return chainOfModifiers.reduce((/**\n         * @param {?} modifiedData\n         * @param {?} modifier\n         * @return {?}\n         */\n        (modifiedData, modifier) => modifier(modifiedData)), initData(targetElement, hostElement, position, options));\n    }\n}\n/** @type {?} */\nconst positionService = new Positioning();\n/**\n * @param {?} hostElement\n * @param {?} targetElement\n * @param {?} placement\n * @param {?=} appendToBody\n * @param {?=} options\n * @param {?=} renderer\n * @return {?}\n */\nfunction positionElements(hostElement, targetElement, placement, appendToBody, options, renderer) {\n    /** @type {?} */\n    const data = positionService.positionElements(hostElement, targetElement, placement, appendToBody, options);\n    /** @type {?} */\n    const offsets = getOffsets(data);\n    setStyles(targetElement, {\n        'will-change': 'transform',\n        top: '0px',\n        left: '0px',\n        transform: `translate3d(${offsets.left}px, ${offsets.top}px, 0px)`\n    }, renderer);\n    if (data.instance.arrow) {\n        setStyles(data.instance.arrow, data.offsets.arrow, renderer);\n    }\n    updateContainerClass(data, renderer);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction PositioningOptions() { }\nif (false) {\n    /**\n     * The DOM element, ElementRef, or a selector string of an element which will be moved\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.element;\n    /**\n     * The DOM element, ElementRef, or a selector string of an element which the element will be attached to\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.target;\n    /**\n     * A string of the form 'vert-attachment horiz-attachment' or 'placement'\n     * - placement can be \"top\", \"bottom\", \"left\", \"right\"\n     * not yet supported:\n     * - vert-attachment can be any of 'top', 'middle', 'bottom'\n     * - horiz-attachment can be any of 'left', 'center', 'right'\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.attachment;\n    /**\n     * A string similar to `attachment`. The one difference is that, if it's not provided,\n     * `targetAttachment` will assume the mirror image of `attachment`.\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.targetAttachment;\n    /**\n     * A string of the form 'vert-offset horiz-offset'\n     * - vert-offset and horiz-offset can be of the form \"20px\" or \"55%\"\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.offset;\n    /**\n     * A string similar to `offset`, but referring to the offset of the target\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.targetOffset;\n    /**\n     * If true component will be attached to body\n     * @type {?|undefined}\n     */\n    PositioningOptions.prototype.appendToBody;\n}\nclass PositioningService {\n    /**\n     * @param {?} ngZone\n     * @param {?} rendererFactory\n     * @param {?} platformId\n     */\n    constructor(ngZone, rendererFactory, platformId) {\n        this.update$$ = new Subject();\n        this.positionElements = new Map();\n        this.isDisabled = false;\n        if (isPlatformBrowser(platformId)) {\n            ngZone.runOutsideAngular((/**\n             * @return {?}\n             */\n            () => {\n                this.triggerEvent$ = merge(fromEvent(window, 'scroll', { passive: true }), fromEvent(window, 'resize', { passive: true }), \n                /* tslint:disable-next-line: deprecation */\n                of(0, animationFrameScheduler), this.update$$);\n                this.triggerEvent$.subscribe((/**\n                 * @return {?}\n                 */\n                () => {\n                    if (this.isDisabled) {\n                        return;\n                    }\n                    this.positionElements\n                        /* tslint:disable-next-line: no-any */\n                        .forEach((/**\n                     * @param {?} positionElement\n                     * @return {?}\n                     */\n                    (positionElement) => {\n                        positionElements(_getHtmlElement(positionElement.target), _getHtmlElement(positionElement.element), positionElement.attachment, positionElement.appendToBody, this.options, rendererFactory.createRenderer(null, null));\n                    }));\n                }));\n            }));\n        }\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    position(options) {\n        this.addPositionElement(options);\n    }\n    /**\n     * @return {?}\n     */\n    get event$() {\n        return this.triggerEvent$;\n    }\n    /**\n     * @return {?}\n     */\n    disable() {\n        this.isDisabled = true;\n    }\n    /**\n     * @return {?}\n     */\n    enable() {\n        this.isDisabled = false;\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    addPositionElement(options) {\n        this.positionElements.set(_getHtmlElement(options.element), options);\n    }\n    /**\n     * @return {?}\n     */\n    calcPosition() {\n        this.update$$.next();\n    }\n    /**\n     * @param {?} elRef\n     * @return {?}\n     */\n    deletePositionElement(elRef) {\n        this.positionElements.delete(_getHtmlElement(elRef));\n    }\n    /**\n     * @param {?} options\n     * @return {?}\n     */\n    setOptions(options) {\n        this.options = options;\n    }\n}\nPositioningService.ɵfac = function PositioningService_Factory(t) { return new (t || PositioningService)(ɵngcc0.ɵɵinject(ɵngcc0.NgZone), ɵngcc0.ɵɵinject(ɵngcc0.RendererFactory2), ɵngcc0.ɵɵinject(PLATFORM_ID)); };\nPositioningService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: PositioningService, factory: PositioningService.ɵfac });\n/** @nocollapse */\nPositioningService.ctorParameters = () => [\n    { type: NgZone },\n    { type: RendererFactory2 },\n    { type: Number, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(PositioningService, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.NgZone }, { type: ɵngcc0.RendererFactory2 }, { type: Number, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }]; }, null); })();\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.options;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.update$$;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.positionElements;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.triggerEvent$;\n    /**\n     * @type {?}\n     * @private\n     */\n    PositioningService.prototype.isDisabled;\n}\n/**\n * @param {?} element\n * @return {?}\n */\nfunction _getHtmlElement(element) {\n    // it means that we got a selector\n    if (typeof element === 'string') {\n        return document.querySelector(element);\n    }\n    if (element instanceof ElementRef) {\n        return element.nativeElement;\n    }\n    return element;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { Positioning, PositioningService, positionElements };\n\n//# sourceMappingURL=ngx-bootstrap-positioning.js.map","import { isDevMode } from '@angular/core';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @copyright Valor Software\n * @copyright Angular ng-bootstrap team\n */\nclass Trigger {\n    /**\n     * @param {?} open\n     * @param {?=} close\n     */\n    constructor(open, close) {\n        this.open = open;\n        this.close = close || open;\n    }\n    /**\n     * @return {?}\n     */\n    isManual() {\n        return this.open === 'manual' || this.close === 'manual';\n    }\n}\nif (false) {\n    /** @type {?} */\n    Trigger.prototype.open;\n    /** @type {?} */\n    Trigger.prototype.close;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction ListenOptions() { }\nif (false) {\n    /** @type {?|undefined} */\n    ListenOptions.prototype.target;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.targets;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.triggers;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.outsideClick;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.outsideEsc;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.show;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.hide;\n    /** @type {?|undefined} */\n    ListenOptions.prototype.toggle;\n}\n/** @type {?} */\nconst DEFAULT_ALIASES = {\n    hover: ['mouseover', 'mouseout'],\n    focus: ['focusin', 'focusout']\n};\n/* tslint:disable-next-line: no-any */\n/**\n * @param {?} triggers\n * @param {?=} aliases\n * @return {?}\n */\nfunction parseTriggers(triggers, aliases = DEFAULT_ALIASES) {\n    /** @type {?} */\n    const trimmedTriggers = (triggers || '').trim();\n    if (trimmedTriggers.length === 0) {\n        return [];\n    }\n    /** @type {?} */\n    const parsedTriggers = trimmedTriggers\n        .split(/\\s+/)\n        .map((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => trigger.split(':')))\n        .map((/**\n     * @param {?} triggerPair\n     * @return {?}\n     */\n    (triggerPair) => {\n        /** @type {?} */\n        const alias = aliases[triggerPair[0]] || triggerPair;\n        return new Trigger(alias[0], alias[1]);\n    }));\n    /** @type {?} */\n    const manualTriggers = parsedTriggers.filter((/**\n     * @param {?} triggerPair\n     * @return {?}\n     */\n    (triggerPair) => triggerPair.isManual()));\n    if (manualTriggers.length > 1) {\n        throw new Error('Triggers parse error: only one manual trigger is allowed');\n    }\n    if (manualTriggers.length === 1 && parsedTriggers.length > 1) {\n        throw new Error('Triggers parse error: manual trigger can\\'t be mixed with other triggers');\n    }\n    return parsedTriggers;\n}\n/**\n * @param {?} renderer\n * @param {?} target\n * @param {?} triggers\n * @param {?} showFn\n * @param {?} hideFn\n * @param {?} toggleFn\n * @return {?}\n */\nfunction listenToTriggers(renderer, \n/* tslint:disable-next-line: no-any */\ntarget, triggers, showFn, hideFn, toggleFn) {\n    /** @type {?} */\n    const parsedTriggers = parseTriggers(triggers);\n    /* tslint:disable-next-line: no-any */\n    /** @type {?} */\n    const listeners = [];\n    if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\n        return Function.prototype;\n    }\n    parsedTriggers.forEach((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => {\n        if (trigger.open === trigger.close) {\n            listeners.push(renderer.listen(target, trigger.open, toggleFn));\n            return;\n        }\n        listeners.push(renderer.listen(target, trigger.open, showFn), renderer.listen(target, trigger.close, hideFn));\n    }));\n    return (/**\n     * @return {?}\n     */\n    () => {\n        listeners.forEach((/**\n         * @param {?} unsubscribeFn\n         * @return {?}\n         */\n        (unsubscribeFn) => unsubscribeFn()));\n    });\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction listenToTriggersV2(renderer, options) {\n    /** @type {?} */\n    const parsedTriggers = parseTriggers(options.triggers);\n    /** @type {?} */\n    const target = options.target;\n    // do nothing\n    if (parsedTriggers.length === 1 && parsedTriggers[0].isManual()) {\n        return Function.prototype;\n    }\n    // all listeners\n    /* tslint:disable-next-line: no-any */\n    /** @type {?} */\n    const listeners = [];\n    // lazy listeners registration\n    /** @type {?} */\n    const _registerHide = [];\n    /** @type {?} */\n    const registerHide = (/**\n     * @return {?}\n     */\n    () => {\n        // add hide listeners to unregister array\n        _registerHide.forEach((/**\n         * @param {?} fn\n         * @return {?}\n         */\n        (fn) => listeners.push(fn())));\n        // register hide events only once\n        _registerHide.length = 0;\n    });\n    // register open\\close\\toggle listeners\n    parsedTriggers.forEach((/**\n     * @param {?} trigger\n     * @return {?}\n     */\n    (trigger) => {\n        /** @type {?} */\n        const useToggle = trigger.open === trigger.close;\n        /** @type {?} */\n        const showFn = useToggle ? options.toggle : options.show;\n        if (!useToggle) {\n            _registerHide.push((/**\n             * @return {?}\n             */\n            () => renderer.listen(target, trigger.close, options.hide)));\n        }\n        listeners.push(renderer.listen(target, trigger.open, (/**\n         * @return {?}\n         */\n        () => showFn(registerHide))));\n    }));\n    return (/**\n     * @return {?}\n     */\n    () => {\n        listeners.forEach((/**\n         * @param {?} unsubscribeFn\n         * @return {?}\n         */\n        (unsubscribeFn) => unsubscribeFn()));\n    });\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction registerOutsideClick(renderer, options) {\n    if (!options.outsideClick) {\n        return Function.prototype;\n    }\n    /* tslint:disable-next-line: no-any */\n    return renderer.listen('document', 'click', (/**\n     * @param {?} event\n     * @return {?}\n     */\n    (event) => {\n        if (options.target && options.target.contains(event.target)) {\n            return undefined;\n        }\n        if (options.targets &&\n            options.targets.some((/**\n             * @param {?} target\n             * @return {?}\n             */\n            target => target.contains(event.target)))) {\n            return undefined;\n        }\n        options.hide();\n    }));\n}\n/**\n * @param {?} renderer\n * @param {?} options\n * @return {?}\n */\nfunction registerEscClick(renderer, options) {\n    if (!options.outsideEsc) {\n        return Function.prototype;\n    }\n    return renderer.listen('document', 'keyup.esc', (/**\n     * @param {?} event\n     * @return {?}\n     */\n    (event) => {\n        if (options.target && options.target.contains(event.target)) {\n            return undefined;\n        }\n        if (options.targets &&\n            options.targets.some((/**\n             * @param {?} target\n             * @return {?}\n             */\n            target => target.contains(event.target)))) {\n            return undefined;\n        }\n        options.hide();\n    }));\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n/**\n * JS version of browser APIs. This library can only run in the browser.\n * @type {?}\n */\nconst win = (typeof window !== 'undefined' && window) || (/** @type {?} */ ({}));\n/** @type {?} */\nconst document$1 = win.document;\n/** @type {?} */\nconst location = win.location;\n/** @type {?} */\nconst gc = win.gc ? (/**\n * @return {?}\n */\n() => win.gc()) : (/**\n * @return {?}\n */\n() => null);\n/** @type {?} */\nconst performance = win.performance ? win.performance : null;\n/** @type {?} */\nconst Event = win.Event;\n/** @type {?} */\nconst MouseEvent = win.MouseEvent;\n/** @type {?} */\nconst KeyboardEvent = win.KeyboardEvent;\n/** @type {?} */\nconst EventTarget = win.EventTarget;\n/** @type {?} */\nconst History = win.History;\n/** @type {?} */\nconst Location = win.Location;\n/** @type {?} */\nconst EventListener = win.EventListener;\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nlet guessedVersion;\n/**\n * @return {?}\n */\nfunction _guessBsVersion() {\n    if (typeof document === 'undefined') {\n        return null;\n    }\n    /** @type {?} */\n    const spanEl = document.createElement('span');\n    spanEl.innerText = 'test bs version';\n    document.body.appendChild(spanEl);\n    spanEl.classList.add('d-none');\n    /** @type {?} */\n    const rect = spanEl.getBoundingClientRect();\n    document.body.removeChild(spanEl);\n    if (!rect) {\n        return 'bs3';\n    }\n    return rect.top === 0 ? 'bs4' : 'bs3';\n}\n/**\n * @param {?} theme\n * @return {?}\n */\nfunction setTheme(theme) {\n    guessedVersion = theme;\n}\n// todo: in ngx-bootstrap, bs4 will became a default one\n/**\n * @return {?}\n */\nfunction isBs3() {\n    if (typeof win === 'undefined') {\n        return true;\n    }\n    if (typeof win.__theme === 'undefined') {\n        if (guessedVersion) {\n            return guessedVersion === 'bs3';\n        }\n        guessedVersion = _guessBsVersion();\n        return guessedVersion === 'bs3';\n    }\n    return win.__theme !== 'bs4';\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @template T\n */\nclass LinkedList {\n    constructor() {\n        this.length = 0;\n        this.asArray = [];\n        // Array methods overriding END\n    }\n    /**\n     * @param {?} position\n     * @return {?}\n     */\n    get(position) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            return void 0;\n        }\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < position; index++) {\n            current = current.next;\n        }\n        return current.value;\n    }\n    /**\n     * @param {?} value\n     * @param {?=} position\n     * @return {?}\n     */\n    add(value, position = this.length) {\n        if (position < 0 || position > this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const node = {\n            value,\n            next: undefined,\n            previous: undefined\n        };\n        if (this.length === 0) {\n            this.head = node;\n            this.tail = node;\n            this.current = node;\n        }\n        else {\n            if (position === 0) {\n                // first node\n                node.next = this.head;\n                this.head.previous = node;\n                this.head = node;\n            }\n            else if (position === this.length) {\n                // last node\n                this.tail.next = node;\n                node.previous = this.tail;\n                this.tail = node;\n            }\n            else {\n                // node in middle\n                /** @type {?} */\n                const currentPreviousNode = this.getNode(position - 1);\n                /** @type {?} */\n                const currentNextNode = currentPreviousNode.next;\n                currentPreviousNode.next = node;\n                currentNextNode.previous = node;\n                node.previous = currentPreviousNode;\n                node.next = currentNextNode;\n            }\n        }\n        this.length++;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @param {?=} position\n     * @return {?}\n     */\n    remove(position = 0) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        if (position === 0) {\n            // first node\n            this.head = this.head.next;\n            if (this.head) {\n                // there is no second node\n                this.head.previous = undefined;\n            }\n            else {\n                // there is no second node\n                this.tail = undefined;\n            }\n        }\n        else if (position === this.length - 1) {\n            // last node\n            this.tail = this.tail.previous;\n            this.tail.next = undefined;\n        }\n        else {\n            // middle node\n            /** @type {?} */\n            const removedNode = this.getNode(position);\n            removedNode.next.previous = removedNode.previous;\n            removedNode.previous.next = removedNode.next;\n        }\n        this.length--;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @param {?} position\n     * @param {?} value\n     * @return {?}\n     */\n    set(position, value) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /** @type {?} */\n        const node = this.getNode(position);\n        node.value = value;\n        this.createInternalArrayRepresentation();\n    }\n    /**\n     * @return {?}\n     */\n    toArray() {\n        return this.asArray;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    findAll(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const result = [];\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result.push({ index, value: current.value });\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    // Array methods overriding start\n    /**\n     * @param {...?} args\n     * @return {?}\n     */\n    push(...args) {\n        /* tslint:disable-next-line: no-any*/\n        args.forEach((/**\n         * @param {?} arg\n         * @return {?}\n         */\n        (arg) => {\n            this.add(arg);\n        }));\n        return this.length;\n    }\n    /**\n     * @return {?}\n     */\n    pop() {\n        if (this.length === 0) {\n            return undefined;\n        }\n        /** @type {?} */\n        const last = this.tail;\n        this.remove(this.length - 1);\n        return last.value;\n    }\n    /**\n     * @param {...?} args\n     * @return {?}\n     */\n    unshift(...args) {\n        args.reverse();\n        /* tslint:disable-next-line: no-any*/\n        args.forEach((/**\n         * @param {?} arg\n         * @return {?}\n         */\n        (arg) => {\n            this.add(arg, 0);\n        }));\n        return this.length;\n    }\n    /**\n     * @return {?}\n     */\n    shift() {\n        if (this.length === 0) {\n            return undefined;\n        }\n        /** @type {?} */\n        const lastItem = this.head.value;\n        this.remove();\n        return lastItem;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    forEach(fn) {\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < this.length; index++) {\n            fn(current.value, index);\n            current = current.next;\n        }\n    }\n    /**\n     * @param {?} value\n     * @return {?}\n     */\n    indexOf(value) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let position = 0;\n        for (let index = 0; index < this.length; index++) {\n            if (current.value === value) {\n                position = index;\n                break;\n            }\n            current = current.next;\n        }\n        return position;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    some(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result = false;\n        while (current && !result) {\n            if (fn(current.value)) {\n                result = true;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    every(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result = true;\n        while (current && result) {\n            if (!fn(current.value)) {\n                result = false;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /**\n     * @return {?}\n     */\n    toString() {\n        return '[Linked List]';\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    find(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result;\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result = current.value;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @param {?} fn\n     * @return {?}\n     */\n    findIndex(fn) {\n        /** @type {?} */\n        let current = this.head;\n        /** @type {?} */\n        let result;\n        for (let index = 0; index < this.length; index++) {\n            if (fn(current.value, index)) {\n                result = index;\n                break;\n            }\n            current = current.next;\n        }\n        return result;\n    }\n    /* tslint:disable-next-line: no-any*/\n    /**\n     * @protected\n     * @param {?} position\n     * @return {?}\n     */\n    getNode(position) {\n        if (this.length === 0 || position < 0 || position >= this.length) {\n            throw new Error('Position is out of the list');\n        }\n        /** @type {?} */\n        let current = this.head;\n        for (let index = 0; index < position; index++) {\n            current = current.next;\n        }\n        return current;\n    }\n    /**\n     * @protected\n     * @return {?}\n     */\n    createInternalArrayRepresentation() {\n        /* tslint:disable-next-line: no-any*/\n        /** @type {?} */\n        const outArray = [];\n        /** @type {?} */\n        let current = this.head;\n        while (current) {\n            outArray.push(current.value);\n            current = current.next;\n        }\n        this.asArray = outArray;\n    }\n}\nif (false) {\n    /** @type {?} */\n    LinkedList.prototype.length;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.head;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.tail;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.current;\n    /**\n     * @type {?}\n     * @protected\n     */\n    LinkedList.prototype.asArray;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/*tslint:disable:no-invalid-this */\n/* tslint:disable-next-line: no-any */\n/**\n * @param {?=} defaultValue\n * @return {?}\n */\nfunction OnChange(defaultValue) {\n    /** @type {?} */\n    const sufix = 'Change';\n    /* tslint:disable-next-line: no-any */\n    return (/**\n     * @param {?} target\n     * @param {?} propertyKey\n     * @return {?}\n     */\n    function OnChangeHandler(target, propertyKey) {\n        /** @type {?} */\n        const _key = ` __${propertyKey}Value`;\n        Object.defineProperty(target, propertyKey, {\n            /* tslint:disable-next-line: no-any */\n            /**\n             * @return {?}\n             */\n            get() {\n                return this[_key];\n            },\n            /* tslint:disable-next-line: no-any */\n            /**\n             * @param {?} value\n             * @return {?}\n             */\n            set(value) {\n                /** @type {?} */\n                const prevValue = this[_key];\n                this[_key] = value;\n                if (prevValue !== value && this[propertyKey + sufix]) {\n                    this[propertyKey + sufix].emit(value);\n                }\n            }\n        });\n    });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Utils {\n    /* tslint:disable-next-line: no-any */\n    /**\n     * @param {?} element\n     * @return {?}\n     */\n    static reflow(element) {\n        /* tslint:disable-next-line: no-any */\n        ((/**\n         * @param {?} bs\n         * @return {?}\n         */\n        (bs) => bs))(element.offsetHeight);\n    }\n    // source: https://github.com/jquery/jquery/blob/master/src/css/var/getStyles.js\n    /* tslint:disable-next-line: no-any */\n    /**\n     * @param {?} elem\n     * @return {?}\n     */\n    static getStyles(elem) {\n        // Support: IE <=11 only, Firefox <=30 (#15098, #14150)\n        // IE throws on elements created in popups\n        // FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\n        /** @type {?} */\n        let view = elem.ownerDocument.defaultView;\n        if (!view || !view.opener) {\n            view = win;\n        }\n        return view.getComputedStyle(elem);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/** @type {?} */\nconst _messagesHash = {};\n/** @type {?} */\nconst _hideMsg = typeof console === 'undefined' || !('warn' in console);\n/**\n * @param {?} msg\n * @return {?}\n */\nfunction warnOnce(msg) {\n    if (!isDevMode() || _hideMsg || msg in _messagesHash) {\n        return;\n    }\n    _messagesHash[msg] = true;\n    /*tslint:disable-next-line*/\n    console.warn(msg);\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { LinkedList, OnChange, Trigger, Utils, document$1 as document, isBs3, listenToTriggers, listenToTriggersV2, parseTriggers, registerEscClick, registerOutsideClick, setTheme, warnOnce, win as window };\n\n//# sourceMappingURL=ngx-bootstrap-utils.js.map"]}