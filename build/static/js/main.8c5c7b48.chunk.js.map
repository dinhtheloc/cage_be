{"version":3,"sources":["api/socket.js","api/axiosClient.js","api/userApi.js","components/Loading.jsx","components/Nav.jsx","components/PrivateRoute.jsx","pages/Chat/InfoBar.jsx","pages/Chat/Input.jsx","pages/Chat/Message.jsx","pages/Chat/Messages.jsx","components/Breadcrumb.jsx","pages/Chat/Chat.jsx","pages/Home/child/timeSince.js","pages/Home/child/CardPost.jsx","api/postApi.js","pages/Home/child/FormCreatePost.jsx","components/Pagination.jsx","pages/Home/HomePage.jsx","pages/Notification/ItemListNotification.jsx","pages/Notification/NotificationPage.jsx","pages/Profile/child/UpdateInfoUser.jsx","pages/Profile/child/CropImage.js","pages/Profile/child/UploadAvatarUI.jsx","pages/Profile/ProfilePage.jsx","layout/Admin.jsx","pages/Login/Login.jsx","pages/Login/LoginCallback.jsx","pages/Login/Logout.jsx","App.js","index.js"],"names":["socket","openSocket","process","getNotifications","fn","on","notifications","count","receiveNotifications","token","localStorage","getItem","axiosClient","axios","create","baseURL","headers","paramsSerializer","params","queryString","stringify","interceptors","request","use","a","config","response","data","error","status","window","location","href","Promise","reject","userApi","getAll","get","getUserById","updateUserById","put","uploadAvatar","file","formData","FormData","append","post","Loading","className","role","Nav","userProfile","countNoti","src","avatar","alt","height","name","to","target","PrivateRoute","children","rest","render","InfoBar","riotId","riotName","gender","rank","Input","setMessage","sendMessage","message","id","type","placeholder","value","onChange","onKeyPress","event","key","onClick","e","Message","userId","isSentByCurrentUser","time","moment","format","Messages","messages","map","i","Breadcrumb","title","Chat","facebookId","useParams","useState","room","setRoom","setMessages","receiver","setReceiver","history","useHistory","useEffect","arrayUserIds","facebook_id","emit","$","NotificationApp","send","joinRoom","push","roomId","user","receiveMessages","messageRoom","preventDefault","sendMessageRoom","valorant_id","valorant_name","timeSince","stringDate","date","Date","seconds","Math","floor","interval","CardPost","createDate","description","postApi","createPost","FormCreatePost","search","useForm","register","handleSubmit","errors","reset","data-backdrop","data-keyboard","tabIndex","aria-labelledby","aria-hidden","data-dismiss","aria-label","onSubmit","then","modal","catch","console","log","ref","required","defaultValue","rows","Pagination","changePagination","pageIndex","totalPages","array","index","aria-disabled","listRank","Map","HomePage","posts","setPosts","setCount","setPageIndex","pageSize","setTotalPages","rankFilter","setRankFilter","isLoading","setIsLoading","isFirstTime","setIsFirstTime","req","Number","setTimeout","class","style","display","verticalAlign","data-toggle","aria-haspopup","aria-expanded","disabled","data-target","ItemListNotification","lastMessages","hasRead","NotificationPage","notificationsData","length","maxHeight","overflow","UpdateInfoUser","fetchUserProfile","htmlFor","set","createImage","url","resolve","image","Image","addEventListener","setAttribute","getRadianAngle","degreeValue","PI","getCroppedImg","imageSrc","pixelCrop","rotation","canvas","document","createElement","ctx","getContext","maxSize","max","width","safeArea","sqrt","translate","rotate","drawImage","getImageData","putImageData","round","x","y","toBlob","acceptedFileTypesArray","split","item","trim","UploadAvatarUI","backToScreenUpdateInfo","crop","setCrop","zoom","setZoom","croppedAreaPixels","setCroppedAreaPixels","onCropComplete","useCallback","croppedArea","selectedFile","setSelectedFile","verifyFile","currentFile","currentFileType","size","includes","showCroppedImage","croppedImage","multiple","files","reader","FileReader","readAsDataURL","onloadend","result","handleChangeImage","aspect","onCropChange","onZoomChange","min","step","ProfilePage","setTabIndex","Admin","setUserProfile","setNotificationsData","setCountNoti","path","exact","Login","useQuery","URLSearchParams","useLocation","LoginCallback","setItem","Logout","removeItem","App","resourceUrl","script","async","body","appendChild","removeChild","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8c5c7b48.chunk.js","sourcesContent":["import openSocket from 'socket.io-client';\nconst ENDPOINT = process.env.REACT_APP_SOCKET;\nconst socket = openSocket(ENDPOINT);\n\nfunction joinRoom(arrayUserIds) {\n    socket.emit('join', { arrayUserIds }, (error) => {\n        if (error) {\n            window.$.NotificationApp.send(\"Opps\", error.status, \"top-right\", \"rgba(0,0,0,0.2)\", \"error\");\n        }\n\n    });\n}\n\nfunction getDataRoom(fn) {\n    socket.on('getData', ({ messages, roomId, user }) => {\n        fn({ roomId, messages, user });\n    });\n}\n\nfunction receiveMessages(fn) {\n    socket.on('message', message => {\n\n        const messageRoom = message;\n        fn(messageRoom);\n    });\n}\n\nfunction sendMessageRoom(data) {\n    socket.emit('sendMessage', data);\n}\n\nfunction joinNotification(facebookId) {\n    socket.emit('joinNotification', { facebook_id: facebookId }, (error) => {\n        if (error) {\n            window.$.NotificationApp.send(\"Opps\", error, \"top-right\", \"rgba(0,0,0,0.2)\", \"error\");\n        }\n    });\n}\n\n\nfunction getNotifications(fn) {\n    socket.on('getNotifications', ({ notifications, count }) => {\n        fn({ notifications, count });\n    });\n}\n\n\nfunction receiveNotifications(fn) {\n    socket.on('notifications', ({ notifications, count }) => {\n        fn({ notifications, count });\n    });\n}\n\n\nexport {\n    joinRoom,\n    getDataRoom,\n    receiveMessages,\n    sendMessageRoom,\n    joinNotification,\n    getNotifications,\n    receiveNotifications\n};\n","import axios from 'axios';\nimport queryString from 'query-string';\n// Set up default config for http requests here\n// Please have a look at here `https://github.com/axios/axios#request-\n// config` for the full list of configs\nconst token = localStorage.getItem('token');\nconst axiosClient = axios.create({\n    baseURL: process.env.REACT_APP_API_URL,\n    headers: {\n        'content-type': 'application/json',\n        'Authorization': `Basic ${token}`\n    },\n    paramsSerializer: params => queryString.stringify(params),\n});\naxiosClient.interceptors.request.use(async (config) => {\n    // Handle token here ...\n    return config;\n})\naxiosClient.interceptors.response.use((response) => {\n    if (response && response.data) {\n        return response.data;\n    }\n    return response;\n}, (error) => {\n    // Handle errors\n    if(error.response.status === 403){\n        window.location.href = `${process.env.REACT_APP_BASE_HREF}logout`;\n    }\n    return Promise.reject(error);\n});\nexport default axiosClient;","import axiosClient from './axiosClient';\n\nclass UserApi {\n    getAll = (params) => {\n        const url = '/getUsers';\n        return axiosClient.get(url, { params });\n    };\n\n    getUserById = () => {\n        const url = '/getUserById';\n        return axiosClient.get(url);\n    };\n\n    updateUserById = (data) => {\n        const url = '/updateUserById';\n        return axiosClient.put(url, { data });\n    };\n\n    uploadAvatar = (file) => {\n        const url = '/uploadAvatar';\n\n        let formData = new FormData();\n        formData.append(\"image\", file);\n        return axiosClient.post(url, formData, {\n            headers: {\n                \"Content-Type\": \"multipart/form-data\",\n            }\n        });\n    }\n}\nconst userApi = new UserApi();\nexport default userApi;","import React from 'react'\n\nexport default function Loading() {\n    return (\n        <div className=\"spinner-border text-primary\" role=\"status\"></div>\n    )\n}\n","\nimport React from \"react\";\nimport {\n    Link\n} from \"react-router-dom\";\n\nimport Loading from './Loading';\n\nexport default function Nav({ userProfile, countNoti }) {\n\n    return (\n        <div className=\"left-side-menu left-side-menu-detached\" >\n            <div className=\"leftbar-user\">\n\n                {\n                    userProfile ?\n                        <a href=\"#\">\n                            <img src={`${process.env.REACT_APP_UPLOAD_URL}/${userProfile.avatar}`}\n                                alt=\"user-image\" height=\"42\" className=\"rounded-circle shadow-sm\" />\n                            <span className=\"leftbar-user-name\">{userProfile.name}</span>\n                        </a>\n                        :\n                        <Loading></Loading>\n                }\n\n            </div>\n\n            {/* - Sidemenu */}\n            <ul className=\"metismenu side-nav\">\n\n                <li className=\"side-nav-title side-nav-item\">Danh mục</li>\n\n                <li className=\"side-nav-item\">\n                    <Link to=\"/\" className=\"side-nav-link\">\n                        <i className=\"uil-rss\"></i>\n                        <span className=\"badge badge-success float-right\">New</span>\n                        <span> Tìm kiếm đồng đội </span>\n                    </Link>\n                </li>\n\n                <li className=\"side-nav-item\">\n                    <Link to=\"/profile\" className=\"side-nav-link\">\n                        <i className=\"uil-user\"></i>\n                        <span> Hồ sơ cá nhân </span>\n                    </Link>\n                </li>\n\n                <li className=\"side-nav-item\">\n                    <Link to=\"/notifications\" className=\"side-nav-link\">\n                        <i className=\"uil-bell\"></i>\n                        <span className=\"badge badge-danger float-right\">{countNoti > 0 ? countNoti: ''}</span>\n                        <span> Thông báo </span>\n                    </Link>\n                </li>\n\n                <li className=\"side-nav-item\">\n                    <Link to=\"/logout\" className=\"side-nav-link\">\n                        <i className=\"uil-power\"></i>\n                        <span> Đăng xuất hệ thống </span>\n                    </Link>\n                </li>\n\n\n            </ul>\n\n            {/*  Help Box */}\n            <div className=\"help-box help-box-light text-center\">\n                {/* <a href=\"#\" className=\"float-right close-btn text-body\">\n                    <i className=\"mdi mdi-close\"></i>\n                </a> */}\n                <img src=\"/assets/images/youtube.svg\" height=\"90\" alt=\"Helper Icon Image\" />\n                <h5 className=\"mt-3\">CAGE Gaming</h5>\n                <p className=\"mb-3\">Bỏ chút thời gian ủng hộ mình bằng cách đăng ký kênh youtube của mình nhé</p>\n                <a href=\"https://www.youtube.com/channel/UCF061_8xINLPsYHPcBReBFA?view_as=subscriber\" \n                target=\"_blank\"\n                className=\"btn btn-outline-primary btn-sm\">Đăng ký</a>\n            </div>\n            {/*  end Help Box */}\n            {/*  End Sidebar */}\n\n            <div className=\"clearfix\"></div>\n            {/*  Sidebar -left */}\n\n        </div >\n\n\n    )\n}\n","import React from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\n\n\nexport default function PrivateRoute({ children, ...rest }) {\n    const token = localStorage.getItem('token');\n    return (\n        <Route\n            {...rest}\n            render={({ location }) =>\n                token ? (\n                    children\n                ) : (\n                        <Redirect to='/login' />\n                    )\n            }\n        />\n    );\n\n\n}\n\n\n","import React from 'react';\n\nexport default function InfoBar({ avatar, name, riotId, riotName, gender, rank }) {\n    return (\n        <div className=\"col-3\">\n            <div className=\"card\">\n                <div className=\"card-body\">\n                    <div className=\"dropdown float-right\">\n                        <i className=\"uil uil-exchange-alt\"></i>\n                    </div>\n\n                    <div className=\"mt-3 text-center\">\n                        <img src={`${process.env.REACT_APP_UPLOAD_URL}/${avatar}`}\n                            alt={name} className=\"img-thumbnail avatar-lg rounded-circle\" />\n                        <h4>{name}</h4>\n                    </div>\n\n                    <div className=\"mt-3\">\n                        <hr />\n\n                        <p className=\"mt-4 mb-1\"><strong> Tên trong game:</strong></p>\n                        <p>{riotName}</p>\n\n                        <p className=\"mt-4 mb-1\"><strong> Riot Id:</strong></p>\n                        <p>#{riotId}</p>\n\n                        <p className=\"mt-4 mb-1\"><strong> Giới tính:</strong></p>\n                        <p>{gender === 'male' ? 'Nam' : gender === 'female' ? 'Nữ' : ''}</p>\n\n                        <p className=\"mt-4 mb-1\"><strong> Rank:</strong></p>\n                        <p className=\"text-capitalize\">{rank === 'none' ? 'Chưa có' : rank}</p>\n\n                    </div>\n                </div> {/*  end card-body  */}\n            </div> {/*  end card */}\n        </div>\n    )\n}\n","import React from 'react'\n\nexport default function Input({ setMessage, sendMessage, message }) {\n    return (\n        <div className=\"row\">\n            <div className=\"col\">\n                <div className=\"mt-2 bg-light p-3 rounded\">\n                    <form className=\"needs-validation\" name=\"chat-form\" id=\"chat-form\">\n                        <div className=\"row\">\n                            <div className=\"col mb-2 mb-sm-0\">\n                                <input\n                                    className=\"form-control border-0\"\n                                    type=\"text\"\n                                    placeholder=\"Type a message...\"\n                                    value={message}\n                                    onChange={({ target: { value } }) => setMessage(value)}\n                                    onKeyPress={event => event.key === 'Enter' ? sendMessage(event) : null} />\n                                <div className=\"invalid-feedback\">Nhập nội dung tin nhắn</div>\n                            </div>\n                            <div className=\"col-sm-auto\">\n                                <div className=\"btn-group\">\n                                    <a href=\"#\" className=\"btn btn-light\"><i className=\"uil uil-paperclip\"></i></a>\n                                    <a href=\"#\" className=\"btn btn-light\"> <i className='uil uil-smile'></i> </a>\n                                    <button className=\"btn btn-success chat-send btn-block\"\n                                        onClick={e => sendMessage(e)}\n                                    ><i className='uil uil-message'></i>\n                                    </button>\n                                </div>\n                            </div> {/*  end col  */}\n                        </div> {/*  end row */}\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React from 'react';\nimport moment from 'moment';\n\nexport default function Message({ message, name, avatar, userId }) {\n    let isSentByCurrentUser = false;\n\n    if (message.userId === userId) {\n        isSentByCurrentUser = true;\n    }\n\n    const time = moment(message.time).format('HH:mm');\n    return (\n        !isSentByCurrentUser\n            ? (\n\n                <li className=\"clearfix\">\n                    <div className=\"chat-avatar\">\n                        <img src={`${process.env.REACT_APP_UPLOAD_URL}/${message.avatar}`} className=\"rounded\" alt=\"avatar\" />\n                        <i>{time}</i>\n                    </div>\n                    <div className=\"conversation-text\">\n                        <div className=\"ctext-wrap\">\n                            <i>{message.name}</i>\n                            <p>{message.message}</p>\n                        </div>\n                    </div>\n                </li>\n            )\n            : (\n\n                <li className=\"clearfix odd\">\n                    <div className=\"chat-avatar\">\n                        <img src={`${process.env.REACT_APP_UPLOAD_URL}/${avatar}`} className=\"rounded\" alt=\"avatar\" />\n                        <i>{time}</i>\n                    </div>\n                    <div className=\"conversation-text\">\n                        <div className=\"ctext-wrap\">\n                            <i>{name}</i>\n                            <p>\n                                {message.message}\n                            </p>\n                        </div>\n                    </div>\n                </li>\n            )\n    );\n\n\n\n}\n","import React from 'react';\nimport ScrollToBottom from 'react-scroll-to-bottom';\nimport Message from './Message';\n\nexport default function Messages({ messages, name, avatar, userId }) {\n    return (\n\n        <ScrollToBottom className=\"height-537\">\n            <ul className=\"conversation-list\">\n                {messages.map((message, i) => <Message key={i} message={message} userId={userId} name={name} avatar={avatar} />)}\n            </ul>\n        </ScrollToBottom>\n\n    )\n}\n","import React from 'react';\nimport {\n    Link\n} from \"react-router-dom\";\n\nexport default function Breadcrumb({ title }) {\n    return (\n        <div className=\"page-title-box\">\n            <div className=\"page-title-right\">\n                <ol className=\"breadcrumb m-0\">\n                    <li className=\"breadcrumb-item\">\n                        <Link to={`/`}>Tìm kiếm đồng đội</Link></li>\n                    <li className=\"breadcrumb-item active\">{title}</li>\n                </ol>\n            </div>\n            <h4 className=\"page-title\">{title}</h4>\n        </div>\n    )\n}\n","\nimport React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport InfoBar from './InfoBar';\nimport Input from './Input';\nimport Messages from './Messages';\nimport Breadcrumb from '../../components/Breadcrumb';\n\nimport { joinRoom, getDataRoom, receiveMessages, sendMessageRoom } from '../../api/socket';\n\nexport default function Chat({ userProfile }) {\n    const { facebookId } = useParams();\n    const [room, setRoom] = useState('');\n    const [message, setMessage] = useState('');\n    const [messages, setMessages] = useState([]);\n    const [receiver, setReceiver] = useState({});\n    const history = useHistory();\n\n    useEffect(() => {\n        const arrayUserIds = [userProfile.facebook_id, facebookId];\n        if (userProfile.facebook_id === facebookId) {\n            history.push(\"/\");\n            return;\n        }\n        joinRoom(arrayUserIds);\n    }, []);\n\n    useEffect(() => {\n        getDataRoom(({ messages, roomId, user }) => {\n            setRoom(roomId);\n            setMessages(messages);\n            setReceiver(user);\n        });\n\n        receiveMessages((messageRoom) => {\n            setMessages(messages => [...messages, messageRoom]);\n        });\n    }, []);\n\n    const sendMessage = (event) => {\n        event.preventDefault();\n\n        if (message) {\n            const data = {\n                message,\n                roomId: room,\n                user: { ...userProfile }\n            }\n            sendMessageRoom(data);\n            setMessage('');\n        }\n    }\n\n    return (\n        <>\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    {/* <div className=\"page-title-box\">\n                        <div className=\"page-title-right\">\n                            <ol className=\"breadcrumb m-0\">\n                                <li className=\"breadcrumb-item\"><a href=\"#\">Tìm kiếm đồng đội</a></li>\n                                <li className=\"breadcrumb-item active\">Hội thoại</li>\n                            </ol>\n                        </div>\n                        <h4 className=\"page-title\">Hội thoại</h4>\n                    </div> */}\n\n                    <Breadcrumb \n                    title={'Hội thoại'}\n                    ></Breadcrumb>\n                </div>\n            </div>\n\n            <div className=\"row\">\n                {/*  chat area  */}\n                <div className=\"col-9\">\n                    <div className=\"card\">\n                        <div className=\"card-body\">\n                            <Messages messages={messages} userId={userProfile.facebook_id} name={userProfile.name} avatar={userProfile.avatar}></Messages>\n                            <Input message={message} setMessage={setMessage} sendMessage={sendMessage}></Input>\n                        </div> {/*  end card-body  */}\n                    </div> {/*  end card  */}\n                </div>\n                {/*  end chat area */}\n                <InfoBar\n                    avatar={receiver.avatar}\n                    name={receiver.name}\n                    riotId={receiver.valorant_id}\n                    riotName={receiver.valorant_name}\n                    gender={receiver.gender}\n                    rank={receiver.rank}\n                ></InfoBar>\n\n            </div>\n\n\n        </>\n    )\n}\n","const timeSince = (stringDate) => {\n    const date = new Date(stringDate);\n    var seconds = Math.floor((new Date() - date) / 1000);\n    var interval = Math.floor(seconds / 31536000);\n\n    if (interval > 1) {\n        return interval + \" năm trước\";\n    }\n    interval = Math.floor(seconds / 2592000);\n    if (interval > 1) {\n        return interval + \" tháng trước\";\n    }\n    interval = Math.floor(seconds / 86400);\n    if (interval > 1) {\n        return interval + \" ngày trước\";\n    }\n    interval = Math.floor(seconds / 3600);\n    if (interval > 1) {\n        return interval + \" tiếng trước\";\n    }\n    interval = Math.floor(seconds / 60);\n    if (interval > 1) {\n        return interval + \" phút trước\";\n    }\n    return Math.floor(seconds) + \" giây trước\";\n}\n\nexport default timeSince;\n\n","import React from 'react';\nimport {\n    Link\n} from \"react-router-dom\";\n\nimport timeSince from './timeSince';\n\n\nfunction CardPost({ data, facebookId }) {\n    return (\n        <div className=\"card mb-0 mt-2 ribbon-box\">\n            <div className=\"card-body\">\n                <div className={`ribbon-two color-rank-${data.rank}`}><span className=\"text-capitalize\">{data.rank}</span></div>\n                <div className=\"media mb-3 mt-1\">\n                    <img className=\"d-flex mr-2 rounded-circle\" src={`${process.env.REACT_APP_UPLOAD_URL}/${data.user.avatar}`} alt=\"placeholder image\" height=\"32\" />\n                    <div className=\"media-body\">\n                        <small className=\"float-right text-right\">\n                            <span className=\"badge badge-success\">Online</span>\n                            <br></br>\n                            {timeSince(data.createDate)}\n                        </small>\n                        <h6 className=\"m-0 font-14 text-truncate\">{data.user.name} <i className={`mdi mdi-gender-${data.user.gender}`}></i></h6>\n                        {/* <p className=\"m-0 text-muted text-truncate\">{data.user.name} <i className={`mdi mdi-gender-${data.user.gender}`}></i></p> */}\n                        {/* <p className=\"m-0 text-muted text-truncate\">{data.user.name} <i className={`mdi mdi-gender-${data.user.gender}`}></i></p> */}\n                        {/* <small className=\"text-muted m-0 text-truncate\">{data.user.valorant_name} <br></br>#{data.user.valorant_id}</small> */}\n                        <p className=\"text-muted m-0 text-truncate\">{data.user.valorant_name}</p>\n                        <p className=\"text-muted m-0 text-truncate\">#{data.user.valorant_id}</p>\n                    </div>\n                </div>\n\n                <p className=\"mb-2 text-muted\">\n                    <span className=\"font-italic\"><b>\"</b>{data.description}</span>\n                </p>\n                {\n                    facebookId !== data.user.facebook_id ?\n                        <Link to={`/chat/${data.user.facebook_id}`}\n                            className=\"btn btn-block btn-primary\"><i className=\"uil uil-comments-alt\"></i> Chat ngay\n                        </Link>\n                    : ''\n                }\n\n            </div>\n        </div>\n    );\n}\n\nexport default CardPost;","import axiosClient from './axiosClient';\n\nclass PostApi {\n    getAll = (params) => {\n        const url = '/getPosts';\n        return axiosClient.get(url, { params: { ...params } });\n    };\n\n    createPost = (data) => {\n        const url = '/createPost';\n        return axiosClient.post(url, data);\n    };\n}\nconst postApi = new PostApi();\nexport default postApi;","import React from 'react';\n\nimport { useForm } from 'react-hook-form';\n\nimport postApi from '../../../api/postApi';\n\nexport default function FormCreatePost({ search }) {\n\n\n    const { register, handleSubmit, errors, reset } = useForm();\n\n    const submit = data => {\n        postApi.createPost({ ...data }).then((response) => {\n            window.$.NotificationApp.send(\"Yeah\", \"Tạo mới thành công\", \"top-right\", \"rgba(0,0,0,0.2)\", \"success\");\n            window.$('#staticBackdrop').modal('hide');\n            search();\n        }).catch((error) => {\n            console.log(error);\n            window.$.NotificationApp.send(\"Opps\", error, \"top-right\", \"rgba(0,0,0,0.2)\", \"error\");\n        });\n    };\n\n    return (\n        <div className=\"modal fade\" id=\"staticBackdrop\"\n            data-backdrop=\"static\" data-keyboard=\"false\"\n            tabIndex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\n            <div className=\"modal-dialog\">\n                <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                        <h5 className=\"modal-title\" id=\"staticBackdropLabel\">Tạo mới bài viết</h5>\n                        <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                            <span aria-hidden=\"true\">&times;</span>\n                        </button>\n                    </div>\n                    <form onSubmit={handleSubmit(submit)}>\n                        <div className=\"modal-body\">\n                            <div className=\"form-group mb-3\">\n                                <label>Tiêu đề <span className=\"text-danger\">*</span></label>\n                                <input type=\"text\"\n                                    ref={register({ required: true })}\n                                    name=\"title\" className=\"form-control\" placeholder=\"Nhập tiêu đề\" />\n                                <div className=\"invalid-feedback d-block\">\n                                    {errors.title && \"Tiêu đề là trường bắt buộc\"}\n                                </div>\n                            </div>\n                            <div className=\"row mb-3\">\n                                <div className=\"col\">\n                                    <div className=\"form-group\">\n                                        <label>Mức rank <span className=\"text-danger\">*</span></label>\n                                        <select\n                                            ref={register({ required: true })}\n                                            name=\"rank\"\n                                            defaultValue=\"none\"\n                                            className=\"custom-select\">\n                                            <option value=\"none\">Unrank</option>\n                                            <option value=\"iron\">Sắt</option>\n                                            <option value=\"bronze\">Đồng</option>\n                                            <option value=\"silver\">Bạc</option>\n                                            <option value=\"gold\">Vàng</option>\n                                            <option value=\"platinum\">Bạch Kim</option>\n                                            <option value=\"diamond\">Kim Cương</option>\n                                            <option value=\"immortal\">Immortal</option>\n                                            <option value=\"radiant\">Radiant</option>\n                                        </select>\n                                        <div className=\"invalid-feedback d-block\">\n                                            {errors.rank && \"Rank là trường bắt buộc\"}\n                                        </div>\n                                    </div>\n                                </div>\n                                {/* <div className=\"col\">\n                                    <div className=\"form-group\">\n                                        <label>Số slot cần tìm <span className=\"text-danger\">*</span></label>\n                                        <select className=\"custom-select\"\n                                            defaultValue=\"1\"\n                                            ref={register({ required: true })}\n                                            name=\"slot\">\n                                            <option value=\"1\">Một</option>\n                                            <option value=\"2\">Hai</option>\n                                            <option value=\"3\">Ba</option>\n                                            <option value=\"4\">Bốn</option>\n                                        </select>\n                                        <div className=\"invalid-feedback d-block\">\n                                            {errors.slot && \"Slot là trường bắt buộc\"}\n                                        </div>\n                                    </div>\n                                </div> */}\n                            </div>\n\n                            <div className=\"form-group mb-3\">\n                                <label>Nội dung bài viết <span className=\"text-danger\">*</span></label>\n                                <textarea\n                                    ref={register({ required: true })}\n                                    name=\"description\"\n                                    className=\"form-control\" rows=\"4\"></textarea>\n                                <div className=\"invalid-feedback d-block\">\n                                    {errors.description && \"Nội dung là trường bắt buộc\"}\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"modal-footer\">\n                            <button type=\"button\" className=\"btn btn-secondary\" data-dismiss=\"modal\">Huỷ</button>\n                            <button type=\"submit\" className=\"btn btn-primary\">Tạo mới bài viết</button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    )\n}\n","import React from 'react'\n\nexport default function Pagination({ changePagination, pageIndex, totalPages }) {\n\n\n    const array = [];\n\n    if (totalPages > 0) {\n        for (let index = 0; index < totalPages; index++) {\n            array.push(index + 1);\n        }\n    }\n\n    return (\n        <nav className=\"d-inline-block\">\n            <ul className=\"pagination mb-0\">\n                <li className={`page-item ${pageIndex === 1 ? 'disabled' : ''}`}>\n                    <button className=\"page-link\" onClick={() => changePagination(pageIndex - 1)} aria-disabled=\"true\">Previous</button>\n                </li>\n                {array.map(i => {\n                    return (\n                        <li key={i} className={`page-item ${pageIndex === i ? 'active' : ''}`}>\n                            <button className=\"page-link\" onClick={() => changePagination(i)} >{i} {pageIndex === i ? <span className=\"sr-only\">(current)</span> : ''}</button>\n                        </li>\n                    );\n                })}\n                <li className={`page-item ${totalPages === pageIndex ? 'disabled' : ''}`}>\n                    <a className=\"page-link\" onClick={() => changePagination(pageIndex + 1)}>Next</a>\n                </li>\n            </ul>\n        </nav>\n    )\n}\n","import React, { useEffect, useState } from 'react';\nimport CardPost from './child/CardPost';\nimport FormCreatePost from './child/FormCreatePost';\nimport postApi from '../../api/postApi';\nimport Pagination from '../../components/Pagination';\nimport Breadcrumb from '../../components/Breadcrumb';\n\nconst listRank = new Map();\nlistRank.set('iron', 'Sắt');\nlistRank.set('bronze', 'Đồng');\nlistRank.set('silver', 'Bạc');\nlistRank.set('gold', 'Vàng');\nlistRank.set('platinum', 'Bạch kim');\nlistRank.set('diamond', 'Kim cương');\nlistRank.set('immortal', 'Immortal');\nlistRank.set('radiant', 'Radiant');\n\nexport default function HomePage({ userProfile }) {\n\n    const [posts, setPosts] = useState([]);\n    const [count, setCount] = useState(0);\n    const [pageIndex, setPageIndex] = useState(1);\n    const [pageSize, setPageSize] = useState(9);\n    const [totalPages, setTotalPages] = useState(0);\n    const [rankFilter, setRankFilter] = useState(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [isFirstTime, setIsFirstTime] = useState(true);\n\n    useEffect(() => {\n        search();\n    }, [pageSize, rankFilter]);\n\n\n    const search = async () => {\n\n        const req = {\n            pageIndex,\n            pageSize,\n            rankFilter\n        }\n\n        if (!isFirstTime) {\n            setIsLoading(true);\n        }\n\n        try {\n            const { count, pageIndex, posts, totalPages } = await postApi.getAll(req);\n            setPosts(posts);\n            setCount(count);\n            setPageIndex(Number(pageIndex));\n            setTotalPages(totalPages);\n            if (isFirstTime) {\n                setIsFirstTime(false);\n            } else {\n                window.$.NotificationApp.send(\"Yeah\", \"Tải mới bản tin thành công\", \"top-right\", \"rgba(0,0,0,0.2)\", \"success\");\n                setTimeout(() => setIsLoading(false), 3000);\n            }\n        } catch (error) {\n            console.log('error', error);\n        }\n    }\n\n    return (\n        <>\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <Breadcrumb\n                        title={'Tìm kiếm đồng đội'}\n                    ></Breadcrumb>\n                </div>\n            </div>\n\n            <div class=\"d-flex justify-content-between mb-3\">\n                <div>\n\n                    <div\n                        style={{ display: 'inline-block', verticalAlign: 'middle' }}\n                        className=\"dropdown mr-2\">\n                        <button className=\"btn btn-primary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\"\n                            data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                            <i className=\"uil-signal-alt\"></i> Lọc theo rank {rankFilter ? <span className=\"badge badge-light\">{listRank.get(rankFilter)}</span> : ''}\n                        </button>\n                        <div className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                            {/* <button className=\"dropdown-item\" onClick={() => { setRankFilter(null); setPageIndex(1); search(); }}>Tất cả</button>\n                    <button className=\"dropdown-item\" onClick={() => { setRankFilter('iron'); setPageIndex(1); search(); }}>{listRank.get('iron')}</button>\n                    <button className=\"dropdown-item\" onClick={() => { setRankFilter('bronze'); setPageIndex(1); search(); }}>{listRank.get('bronze')}</button>\n                    <button className=\"dropdown-item\" onClick={() => { setRankFilter('silver'); setPageIndex(1); search(); }}>{listRank.get('silver')}</button>\n                    <button className=\"dropdown-item\" onClick={() => { setRankFilter('gold'); setPageIndex(1); search(); }}>{listRank.get('gold')}</button>\n                    <button className=\"dropdown-item\" onClick={() => { setRankFilter('platinum'); setPageIndex(1); search(); }}>{listRank.get('platinum')}</button>\n                    <button className=\"dropdown-item\" onClick={() => { setRankFilter('diamond'); setPageIndex(1); search(); }}>{listRank.get('diamond')}</button>\n                    <button className=\"dropdown-item\" onClick={() => { setRankFilter('immortal'); setPageIndex(1); search(); }}>{listRank.get('immortal')}</button>\n                    <button className=\"dropdown-item\" onClick={() => { setRankFilter('radiant'); setPageIndex(1); search(); }}>{listRank.get('radiant')}</button> */}\n\n                            <button className=\"dropdown-item\" onClick={() => { setRankFilter(null); }}>Tất cả</button>\n                            <button className=\"dropdown-item\" onClick={() => { setRankFilter('iron'); }}>{listRank.get('iron')}</button>\n                            <button className=\"dropdown-item\" onClick={() => { setRankFilter('bronze'); }}>{listRank.get('bronze')}</button>\n                            <button className=\"dropdown-item\" onClick={() => { setRankFilter('silver'); }}>{listRank.get('silver')}</button>\n                            <button className=\"dropdown-item\" onClick={() => { setRankFilter('gold'); }}>{listRank.get('gold')}</button>\n                            <button className=\"dropdown-item\" onClick={() => { setRankFilter('platinum'); }}>{listRank.get('platinum')}</button>\n                            <button className=\"dropdown-item\" onClick={() => { setRankFilter('diamond'); }}>{listRank.get('diamond')}</button>\n                            <button className=\"dropdown-item\" onClick={() => { setRankFilter('immortal'); }}>{listRank.get('immortal')}</button>\n                            <button className=\"dropdown-item\" onClick={() => { setRankFilter('radiant'); }}>{listRank.get('radiant')}</button>\n                        </div>\n                    </div>\n\n\n                    {!isLoading ? <button\n                        type=\"button\"\n                        onClick={() => { search(); }}\n                        class=\"btn btn-primary\"><i className=\"uil-sync\"></i> Làm mới bản tin</button> : <button class=\"btn btn-primary\" type=\"button\" disabled>\n                            <span class=\"spinner-border spinner-border-sm mr-1\" role=\"status\" aria-hidden=\"true\"></span>\n                        Loading...\n                    </button>}\n\n\n                    {/* <div className=\"ml-2\" style={{ display: 'inline-block', verticalAlign: 'middle', lineHeight: 0 }} >\n                        \n                        <span>chi hien</span>\n                        <input type=\"checkbox\" id=\"switch6\" checked data-switch=\"danger\" />\n                        <label className=\"m-0\" for=\"switch6\" data-on-label=\"On\" data-off-label=\"Off\"></label>\n                    </div> */}\n                </div>\n                <div>\n                    <button type=\"button\"\n                        data-toggle=\"modal\" data-target=\"#staticBackdrop\"\n                        className=\"btn btn-danger btn-rounded\"><i className=\"uil-plus\"></i> Tạo bài viết</button>\n                </div>\n            </div>\n\n            <FormCreatePost search={() => { search(); }}></FormCreatePost>\n\n            <div className=\"row\">\n                {\n                    posts.map(i => {\n                        return (\n                            <div key={i['_id']} className=\"col-sm-12 col-md-4\">\n                                <CardPost\n                                    facebookId={userProfile.facebook_id}\n                                    data={i}></CardPost>\n                            </div>)\n                    })\n                }\n            </div>\n\n            <div className={'text-right mt-4'}>\n                <Pagination count={count}\n                    pageIndex={pageIndex}\n                    changePagination={(i) => {\n                        setPageIndex(i);\n                        search();\n                    }\n                    }\n                    totalPages={totalPages} ></Pagination>\n            </div>\n\n        </>\n    )\n}\n","import React from 'react';\nimport moment from 'moment';\nimport {\n    Link\n} from \"react-router-dom\";\nexport default function ItemListNotification({ data, facebookId }) {\n    let id = '';\n    if (facebookId === data.arrayUserIds[0]) {\n        id = data.arrayUserIds[1];\n    } else {\n        id = data.arrayUserIds[0];\n    }\n\n    const { lastMessages } = data;\n\n    const time = moment(lastMessages.time).format('HH:mm');\n    return (\n        <Link to={`/chat/${id}`}\n            className=\"text-body\">\n            <div className=\"media mt-1 p-2 lift\">\n                <img src={`${process.env.REACT_APP_UPLOAD_URL}/${lastMessages.avatar}`}\n                    className=\"mr-2 rounded-circle\" height=\"48\" alt=\"Brandon Smith\" />\n                <div className=\"media-body\">\n                    <h5 className=\"mt-0 mb-0 font-14\">\n                        <span className=\"float-right text-muted font-12\">{time}</span>\n                        {lastMessages.name}\n                    </h5>\n                    <p className=\"mt-1 mb-0 text-muted font-14\">\n                        {!lastMessages.hasRead && lastMessages.userId !== facebookId ?\n                            (\n                                <>\n                                    <span className=\"w-25 float-right text-right\"><span className=\"badge badge-success-lighten\">new</span></span>\n                                    <span className=\"w-75\"><strong>{lastMessages.message}</strong></span>\n                                </>\n                            )\n                            :\n                            (\n                                <>\n                                    <span className=\"w-25 float-right text-right\"></span>\n                                    <span className=\"w-75\">{lastMessages.message}</span>\n                                </>\n                            )\n                        }\n                    </p>\n                </div>\n            </div>\n        </Link>\n    )\n}\n","import React from \"react\";\nimport ItemListNotification from './ItemListNotification';\nimport Breadcrumb from '../../components/Breadcrumb';\nexport default function NotificationPage({ notificationsData, userProfile }) {\n    return (\n        <>\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <Breadcrumb \n                    title={'Thông báo'}\n                    ></Breadcrumb>\n                </div>\n            </div>\n\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <div className=\"card\">\n                        <div className=\"card-body p-0\">\n                            {notificationsData.length > 0 ?\n                                <div className=\"tab-content\">\n                                    <div className=\"tab-pane show active p-3\">\n                                        <div className=\"row\">\n                                            <div className=\"col\">\n                                                <div style={{ maxHeight: \"550px\", overflow: 'hidden scroll' }}>\n                                                    {notificationsData.map((data, i) => <ItemListNotification key={i}\n                                                        facebookId={userProfile.facebook_id}\n                                                        userProfile={userProfile}\n                                                        data={data}></ItemListNotification>)}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                                :\n                                <div className=\"text-center p-4\">\n                                    <img src=\"/assets/images/startman.svg\" height=\"120\" alt=\"File not found Image\"></img>\n                                    <h4 className=\"text-uppercase text-danger mt-3\">Hiện tại bạn chưa có thông báo</h4>\n                                    <p class=\"text-muted mt-3\">Hãy tạo bài viết và tiến hành kết bạn đi nào!</p>\n                                </div>\n                            }\n                        </div> {/*  end card-body*/}\n                    </div> {/*  end card*/}\n                </div>\n            </div>\n\n\n        </>\n\n\n    )\n}\n","import React, { useEffect } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport userApi from '../../../api/userApi';\nimport Loading from '../../../components/Loading';\n\nexport default function UpdateInfoUser({ fetchUserProfile, userProfile }) {\n    const { register, handleSubmit, errors, reset } = useForm();\n\n    useEffect(() => {\n        if (userProfile) {\n            reset({\n                name: userProfile.name,\n                rank: userProfile.rank,\n                valorant_id: userProfile.valorant_id,\n                valorant_name: userProfile.valorant_name,\n                gender: userProfile.gender\n            });\n        }\n\n    }, [userProfile]);\n\n    const submit = data => {\n        userApi.updateUserById(data).then((response) => {\n            window.$.NotificationApp.send(\"Yeah\", \"Cập nhật thông tin thành công\", \"top-right\", \"rgba(0,0,0,0.2)\", \"success\");\n            fetchUserProfile();\n        }).catch((error) => {\n            console.log(error);\n        });\n    };  \n\n    return (\n        userProfile ? <form onSubmit={handleSubmit(submit)}>\n            <div className=\"card\">\n                <div className=\"card-body\">\n                    <div className=\"row\">\n                        <div className=\"col-sm-12 col-md-6\">\n                            <div className=\"form-group\">\n                                <label>Nickname <span className=\"text-danger\">*</span></label>\n                                <input type=\"text\" className=\"form-control\"\n                                    name=\"name\" ref={register({ required: true })}\n                                    placeholder=\"Nickname\" />\n\n                                <div className=\"invalid-feedback d-block\">\n                                    {errors.name && \"Nickname là trường bắt buộc\"}\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-sm-12 col-md-6\">\n                            <div className=\"form-group\">\n                                <label>Mức rank Valorant</label>\n                                <select className=\"form-control\" ref={register} name=\"rank\">\n                                    <option value=\"none\">Unrank</option>\n                                    <option value=\"iron\">Sắt</option>\n                                    <option value=\"bronze\">Đồng</option>\n                                    <option value=\"silver\">Bạc</option>\n                                    <option value=\"gold\">Vàng</option>\n                                    <option value=\"platinum\">Bạch Kim</option>\n                                    <option value=\"diamond\">Kim Cương</option>\n                                    <option value=\"immortal\">Immortal</option>\n                                    <option value=\"radiant\">Radiant</option>\n                                </select>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"row\">\n                        <div className=\"col-sm-12 col-md-4\">\n                            <div className=\"form-group\">\n                                <label>Id Valorant <span className=\"text-danger\">*</span></label>\n                                <input type=\"text\" className=\"form-control\"\n                                    name=\"valorant_id\"\n                                    ref={register({ required: true })} placeholder=\"Id Valorant\" />\n                                <div className=\"invalid-feedback d-block\">\n                                    {errors.valorant_id && \"Id Valorant là trường bắt buộc\"}\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"col-sm-12 col-md-4\">\n                            <div className=\"form-group\">\n                                <label>Tên Valorant <span className=\"text-danger\">*</span></label>\n                                <input type=\"text\" className=\"form-control\"\n                                    name=\"valorant_name\"\n                                    ref={register({ required: true })} placeholder=\"Tên Valorant\" />\n                                <div className=\"invalid-feedback d-block\">\n                                    {errors.valorant_name && \"Tên Valorant là trường bắt buộc\"}\n                                </div>\n                            </div>\n                        </div>\n\n                        <div className=\"col-sm-12 col-md-4\">\n                            <div className=\"form-group\">\n                                <label>Giới tính</label>\n                                <div className=\"mt-2\">\n                                    <div className=\"custom-control custom-radio custom-control-inline\">\n                                        <input type=\"radio\" id=\"male\"\n                                            value=\"male\"\n                                            ref={register} name=\"gender\" className=\"custom-control-input\" />\n                                        <label className=\"custom-control-label\" htmlFor=\"male\">Nam</label>\n                                    </div>\n                                    <div className=\"custom-control custom-radio custom-control-inline custom-radio-danger\">\n                                        <input type=\"radio\" id=\"female\" ref={register}\n                                            value=\"female\"\n                                            name=\"gender\" className=\"custom-control-input\" />\n                                        <label className=\"custom-control-label\" htmlFor=\"female\">Nữ</label>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n\n                    </div>\n                    <div className=\"text-center\">\n                        <button type=\"submit\" className=\"btn btn-primary\">Cập nhật hồ sơ</button>\n                    </div>\n                </div>\n            </div>\n        </form> : <Loading />\n    )\n}\n","const createImage = url =>\n    new Promise((resolve, reject) => {\n        const image = new Image()\n        image.addEventListener('load', () => resolve(image))\n        image.addEventListener('error', error => reject(error))\n        image.setAttribute('crossOrigin', 'anonymous') // needed to avoid cross-origin issues on CodeSandbox\n        image.src = url\n    })\n\nfunction getRadianAngle(degreeValue) {\n    return (degreeValue * Math.PI) / 180\n}\n\n/**\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\n * @param {File} image - Image File url\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\n * @param {number} rotation - optional rotation parameter\n */\nexport default async function getCroppedImg(imageSrc, pixelCrop, rotation = 0) {\n    const image = await createImage(imageSrc)\n    const canvas = document.createElement('canvas')\n    const ctx = canvas.getContext('2d')\n\n    const maxSize = Math.max(image.width, image.height)\n    const safeArea = 2 * ((maxSize / 2) * Math.sqrt(2))\n\n    // set each dimensions to double largest dimension to allow for a safe area for the\n    // image to rotate in without being clipped by canvas context\n    canvas.width = safeArea\n    canvas.height = safeArea\n\n    // translate canvas context to a central location on image to allow rotating around the center.\n    ctx.translate(safeArea / 2, safeArea / 2)\n    ctx.rotate(getRadianAngle(rotation))\n    ctx.translate(-safeArea / 2, -safeArea / 2)\n\n    // draw rotated image and store data.\n    ctx.drawImage(\n        image,\n        safeArea / 2 - image.width * 0.5,\n        safeArea / 2 - image.height * 0.5\n    )\n    const data = ctx.getImageData(0, 0, safeArea, safeArea)\n\n    // set canvas width to final desired crop size - this will clear existing context\n    canvas.width = pixelCrop.width\n    canvas.height = pixelCrop.height\n\n    // paste generated rotate image with correct offsets for x,y crop values.\n    ctx.putImageData(\n        data,\n        Math.round(0 - safeArea / 2 + image.width * 0.5 - pixelCrop.x),\n        Math.round(0 - safeArea / 2 + image.height * 0.5 - pixelCrop.y)\n    )\n\n    // As Base64 string\n    // return canvas.toDataURL('image/jpeg');\n\n    // As a blob\n    return new Promise(resolve => {\n        canvas.toBlob(file => {\n            resolve(file);\n            // resolve(URL.createObjectURL(file))\n        }, 'image/jpeg')\n\n        // (blob => {\n        //     blob.name = fileName;\n        //     window.URL.revokeObjectURL(this.fileUrl);\n        //     this.fileUrl = window.URL.createObjectURL(blob);\n        //     resolve(this.fileUrl);\n        //     this.setState({blob:blob}) //added by SO huy nguyen \n        // }, \"image/jpeg\");\n    })\n}\n","import React, { useCallback, useState } from 'react';\nimport Cropper from 'react-easy-crop';\nimport userApi from '../../../api/userApi';\nimport getCroppedImg from './CropImage';\nconst acceptedFileTypes = 'image/x-png, image/png, image/jpg, image/jpeg, image/gif';\nconst imageMaxSize = 5242880;\nconst acceptedFileTypesArray = acceptedFileTypes.split(\",\").map((item) => { return item.trim() });\nexport default function UploadAvatarUI({ backToScreenUpdateInfo }) {\n\n    const [crop, setCrop] = useState({ x: 0, y: 0 });\n    const [zoom, setZoom] = useState(1);\n    const [croppedAreaPixels, setCroppedAreaPixels] = useState(null)\n    const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n        setCroppedAreaPixels(croppedAreaPixels);\n    }, []);\n\n    const [selectedFile, setSelectedFile] = useState(null);\n\n    const handleChangeImage = (e) => {\n        e.preventDefault();\n        if (e.target.files && e.target.files.length > 0) {\n            let file = e.target.files[0];\n            const isVerified = verifyFile(file);\n            if (isVerified) {\n                let reader = new FileReader();\n                reader.readAsDataURL(file);\n                reader.onloadend = () => {\n                    setSelectedFile(reader.result);\n                };\n            }\n        }\n    }\n\n    const handleChangeSlide = (event) => {\n        setZoom(event.target.value);\n    }\n\n    const verifyFile = (currentFile) => {\n        const currentFileType = currentFile.type;\n        const currentFileSize = currentFile.size;\n        if (currentFileSize > imageMaxSize) {\n            window.$.NotificationApp.send(\"Opps\", \"File này có dung lượng > 5mb\", \"top-right\", \"rgba(0,0,0,0.2)\", \"error\");\n            return false;\n        }\n        if (!acceptedFileTypesArray.includes(currentFileType)) {\n            window.$.NotificationApp.send(\"Opps\", \"File này Không phải là file ảnh\", \"top-right\", \"rgba(0,0,0,0.2)\", \"error\");\n            return false;\n        }\n        return true;\n\n    }\n\n    const showCroppedImage = useCallback(async () => {\n        try {\n            const croppedImage = await getCroppedImg(\n                selectedFile,\n                croppedAreaPixels\n            )\n\n            userApi.uploadAvatar(croppedImage).then((response) => {\n                window.$.NotificationApp.send(\"Yeah\", \"Cập nhật ảnh đại diện thành công\", \"top-right\", \"rgba(0,0,0,0.2)\", \"success\");\n                backToScreenUpdateInfo();\n            }).catch((error) => {\n                console.log(error);\n            });\n\n        } catch (e) {\n            console.error(e)\n        }\n    }, [croppedAreaPixels])\n\n    return (\n        <div className=\"row align-items-center\">\n            <div className=\"text-center col-6\">\n                <input\n                    className=\"inputfile\"\n                    id=\"fileInput\"\n                    type=\"file\"\n                    multiple={false}\n                    onChange={(e) => handleChangeImage(e)}\n                />\n                <h4>Chọn ảnh đại diện cho tài khoản</h4>\n                <i className=\"uil uil-export d-block display-4\"></i>\n\n                <label htmlFor=\"fileInput\" className=\"btn btn-success btn-sm mt-2\">\n                    Chọn ảnh từ máy tính\n                </label>\n            </div>\n            <div className=\"col-6 text-center\">\n                {selectedFile ?\n                    <>\n                        <div className=\"position-relative w-100\" style={{ height: '400px' }}>\n                            <Cropper\n                                image={selectedFile}\n                                crop={crop}\n                                zoom={zoom}\n                                aspect={1 / 1}\n                                onCropChange={setCrop}\n                                onCropComplete={onCropComplete}\n                                onZoomChange={setZoom}\n                            />\n                        </div>\n\n\n                        <div className=\"mt-1\">\n                            <input className=\"custom-range\" id=\"example-range\" value={zoom}\n                                onChange={(e) => handleChangeSlide(e)}\n                                type=\"range\" name=\"range\" min=\"1\" max=\"3\" step=\"0.1\" />\n                        </div>\n\n\n                    </> : <img style={{ height: \"400px\" }} src=\"/assets/images/300x300.png\" alt=\"images\" />}\n            </div>\n\n            {selectedFile ? <div className=\"col-12 text-center mt-2\">\n                <button onClick={showCroppedImage} className=\"btn btn-primary btn-sm mb-2\">\n                    Upload ảnh\n                    </button>\n            </div> : <></>}\n        </div>\n\n    )\n}\n","import React, { useState } from 'react';\nimport UpdateInfoUser from './child/UpdateInfoUser';\nimport UploadAvatarUI from './child/UploadAvatarUI';\nimport Breadcrumb from '../../components/Breadcrumb';\n\nexport default function ProfilePage({ userProfile, fetchUserProfile }) {\n\n    const [tabIndex, setTabIndex] = useState(1);\n\n    const backToScreenUpdateInfo = () => {\n        setTabIndex(1);\n        fetchUserProfile();\n    }\n\n\n    return (\n        <>\n            <div className=\"row\">\n                <div className=\"col-12\">\n                    <Breadcrumb \n                    title={'Hồ sơ cá nhân'}\n                    ></Breadcrumb>\n                </div>\n            </div>\n\n            {/* Profile  */}\n            <div className=\"card bg-primary\">\n                <div className=\"card-body profile-user-box\">\n                    <div className=\"row\">\n                        <div className=\"col-sm-8\">\n                            <div className=\"media\">\n                                <span className=\"float-left m-2 mr-4\">\n                                    <img src={`${process.env.REACT_APP_UPLOAD_URL}/${userProfile.avatar}`}\n                                        style={{ height: '100px' }} className=\"rounded-circle img-thumbnail\" /></span>\n                                <div className=\"media-body\">\n                                    <h4 className=\"mt-1 mb-1 text-white\">{userProfile.name}</h4>\n                                    <p className=\"font-13 mb-0 text-white-50\">Valorant id: #{userProfile.valorant_id}</p>\n                                    <p className=\"font-13 mb-0 text-white-50\">Valorant name: {userProfile.valorant_name}</p>\n                                    <p className=\"font-13 mb-0 text-white-50\">Rank: {userProfile.rank}</p>\n                                    <p className=\"font-13 mb-0 text-white-50\">Giới tính: {userProfile.gender === 'male' ? 'Nam' : userProfile.gender === 'female' ? 'Nữ' : ''}</p>\n                                </div>\n                            </div>\n                        </div> {/* end col */}\n                        <div className=\"col-sm-4\">\n                            <div className=\"text-center mt-sm-0 mt-3 text-sm-right\">\n                                <button type=\"button\" className=\"btn btn-light\" onClick={() => {\n                                    if (tabIndex) {\n                                        setTabIndex(0);\n                                    } else {\n                                        setTabIndex(1);\n                                    }\n                                }}>\n                                    <i className=\"uil uil-user-square mr-1\"></i>  {tabIndex === 0 ? 'Cập nhật thông tin tài khoản' : 'Cập nhật avatar'}\n                                </button>\n                            </div>\n                        </div>\n                    </div> {/* end row  */}\n\n                </div> {/* end card-body/ profile-user-box */}\n            </div>\n            {\n                tabIndex === 1 ?\n                    <UpdateInfoUser userProfile={userProfile} fetchUserProfile={fetchUserProfile}></UpdateInfoUser>\n                    :\n                    <UploadAvatarUI backToScreenUpdateInfo={backToScreenUpdateInfo}></UploadAvatarUI>\n            }\n        </>\n    )\n}\n","\nimport React, { useEffect, useState } from \"react\";\nimport { Link, Redirect, Switch } from 'react-router-dom';\nimport { getNotifications, joinNotification, receiveNotifications } from '../api/socket';\nimport userApi from '../api/userApi';\nimport Loading from '../components/Loading';\nimport Nav from '../components/Nav';\nimport PrivateRoute from '../components/PrivateRoute';\nimport Chat from '../pages/Chat/Chat';\nimport HomePage from '../pages/Home/HomePage';\nimport NotificationPage from '../pages/Notification/NotificationPage';\nimport ProfilePage from '../pages/Profile/ProfilePage';\n\n\n\nexport default function Admin() {\n\n    const [userProfile, setUserProfile] = useState(null);\n    const [notificationsData, setNotificationsData] = useState([]);\n    const [countNoti, setCountNoti] = useState(0);\n\n    useEffect(() => {\n        fetchUserProfile();\n    }, []);\n\n    const fetchUserProfile = async () => {\n        try {\n            const response = await userApi.getUserById();\n            setUserProfile(response);\n            joinNotification(response.facebook_id);\n\n            getNotifications(({ notifications, count }) => {\n                setNotificationsData(notifications);\n                setCountNoti(count);\n            });\n\n            receiveNotifications(({ notifications, count }) => {\n\n                setNotificationsData(notifications);\n                setCountNoti(count);\n            });\n        } catch (error) {\n            console.log('Failed to fetch product list: ', error);\n        }\n    }\n\n\n    return (\n        <div className=\"container-fluid\">\n            {/*  Begin page */}\n            <div className=\"wrapper\">\n                {userProfile ? <Nav\n                    countNoti={countNoti}\n                    userProfile={userProfile} ></Nav> : <Loading></Loading>}\n                <div className=\"content-page\">\n                    <div className=\"content\">\n                        <div className=\"row\">\n                            {userProfile && !userProfile.valorant_id && !userProfile.valorant_name ? \n                            <div className=\"col-12 mt-4\">\n                                <div class=\"alert alert-primary\" role=\"alert\">\n                                    <strong>Xin chào người mới.</strong> Thông tin cá nhân của bạn đang bỏ trống kìa! <Link to=\"/profile\">Click vào đây</Link> để cập nhật hồ sơ cá nhân.\n                                </div>\n                            </div> : ''}\n                            <div className=\"col-12\">\n                                <Switch>\n                                    <PrivateRoute path='/' exact>\n                                        {userProfile ? <HomePage userProfile={userProfile} ></HomePage> : <Loading></Loading>}\n                                    </PrivateRoute>\n                                    <PrivateRoute path='/profile'>\n                                        {userProfile ? <ProfilePage userProfile={userProfile} fetchUserProfile={fetchUserProfile}></ProfilePage> : <Loading></Loading>}\n                                    </PrivateRoute>\n                                    <PrivateRoute path='/chat/:facebookId'>\n                                        {userProfile ? <Chat userProfile={userProfile} ></Chat> : <Loading></Loading>}\n                                    </PrivateRoute>\n\n                                    <PrivateRoute path='/notifications'>\n                                        {userProfile ? <NotificationPage userProfile={userProfile}\n                                            notificationsData={notificationsData} ></NotificationPage> : <Loading></Loading>}\n                                    </PrivateRoute>\n                                    <PrivateRoute path=\"*\">\n                                        <Redirect to=\"/\" />\n                                    </PrivateRoute>\n                                </Switch>\n                            </div>\n                        </div>\n                        {/*  end page title */}\n                    </div> {/*  End Content */}\n                    {/*  Footer Start */}\n                    <footer className=\"footer\">\n                        <div className=\"container-fluid\">\n                            <div className=\"row\">\n                                <div className=\"col-md-6\">\n                                    <script>document.write(new Date().getFullYear())</script> © CAGE GAMING\n                              </div>\n                                <div className=\"col-md-6\">\n                                    <div className=\"text-md-right footer-links d-none d-md-block\">\n                                        <a target=\"_blank\" href=\"https://www.facebook.com/gaming/cayghegaming/\">Facebook</a>\n                                        <a target=\"_blank\" href=\"https://www.youtube.com/channel/UCF061_8xINLPsYHPcBReBFA?view_as=subscriber\">Youtube</a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </footer>\n                    {/*  end Footer */}\n                </div> {/*  content-page */}\n            </div> {/*  end wrapper*/}\n        </div>\n\n    )\n}\n","import React from 'react'\n\nexport default function Login() {\n    return (\n\n        <div class=\"auth-fluid\">\n            {/* Auth fluid left content  */}\n            <div class=\"auth-fluid-form-box\">\n                <div class=\"align-items-center d-flex h-100\">\n                    <div class=\"card-body\">\n\n                        {/*  Logo  */}\n                        <div class=\"auth-brand text-center text-lg-left\">\n                            <a href=\"index.html\" class=\"logo-dark\">\n                                <span><img src=\"assets/images/logo.png\" alt=\"\" height=\"200\" /></span>\n                            </a>\n                            <a href=\"index.html\" class=\"logo-light\">\n                                <span><img src=\"assets/images/logo.png\" alt=\"\" height=\"200\" /></span>\n                            </a>\n                        </div>\n\n                        {/*  title */}\n                        <h4 class=\"mt-0\">Đăng nhập</h4>\n                        <p class=\"text-muted mb-4\">Chỉ với tài khoản facebook là bạn đã có thể đăng nhập vào hệ thống rồi.</p>\n\n                        <div class=\"form-group mb-0 text-center\">\n                            <a class=\"btn btn-primary btn-block\" href={`${process.env.REACT_APP_BASE_HREF}auth/facebook\"`}><i class=\"mdi mdi-login\"></i> Đăng nhập bằng facebook </a>\n                        </div>\n\n\n                    </div> {/*  end .card-body  */}\n                </div> {/*  end .align-items-center.d-flex.h-100 */}\n            </div>\n            {/*  end auth-fluid-form-box */}\n\n            {/*  Auth fluid right content  */}\n            <div class=\"auth-fluid-right text-center\">\n                <div class=\"auth-user-testimonial\">\n                    <h2 class=\"mb-3\">I love Valorant!</h2>\n                    <p class=\"lead\"><i class=\"mdi mdi-format-quote-open\"></i> Khoảnh khắc vui nhất là được đắm mình vào thế giới Valorant. <i class=\"mdi mdi-format-quote-close\"></i>\n                    </p>\n                    <p>\n                        - Cage Gaming Admin\n                    </p>\n                </div> {/*  end auth-user-testimonial */}\n            </div>\n        </div>\n    )\n}\n","import { useLocation } from \"react-router-dom\";\n\nfunction useQuery() {\n    return new URLSearchParams(useLocation().search);\n}\n\nexport default function LoginCallback() {\n\n    const token = useQuery().get(\"token\");\n    const userId = useQuery().get(\"userId\");\n    localStorage.setItem('token', token);\n    localStorage.setItem('userId', userId);\n    window.location.href = '/';\n    \n}\n","import React from 'react';\nimport { Redirect } from \"react-router-dom\";\n\nexport default function Logout() {\n    localStorage.removeItem('token');\n    return (\n        <Redirect to=\"/login\"></Redirect>\n    )\n}\n","\nimport { useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport Admin from './layout/Admin';\nimport Login from './pages/Login/Login';\nimport LoginCallback from './pages/Login/LoginCallback';\nimport Logout from './pages/Login/Logout';\nimport './style.css';\n\n\nfunction App() {\n  const resourceUrl = '/assets/js/app.min.js';\n  useEffect(() => {\n    const script = document.createElement('script');\n    script.src = resourceUrl;\n    script.async = true;\n    document.body.appendChild(script);\n    return () => {\n      document.body.removeChild(script);\n    }\n  }, [resourceUrl]);\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/login\">\n          <Login />\n        </Route>\n        <Route path=\"/login-callback\">\n          <LoginCallback />\n        </Route>\n        <Route path=\"/logout\">\n          <Logout />\n        </Route>\n        <Route path=\"/\">\n          <Admin></Admin>\n        </Route>\n      </Switch>\n    </Router>\n\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}